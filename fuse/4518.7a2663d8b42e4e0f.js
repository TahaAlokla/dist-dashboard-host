"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[4518],{4518:(gt,_,a)=>{a.r(_),a.d(_,{default:()=>ut});var m=a(4755),c=a(9401),f=a(1728),C=a(1217),v=a(5580),h=a(430),x=a(9609),p=a(6702),b=a(787),l=a(3627),Z=a(3649),k=a(9222),y=a(957),A=a(4619),U=a(3177),S=a(7579),u=a(2722),I=a(5684),d=a(8505),N=a(9841),T=a(1884),Q=a(8675),j=a(3900),Y=a(262),D=a(9646),t=a(2223),w=a(9096),z=a(1531),g=a(9114);function B(e,i){1&e&&(t.TgZ(0,"th",31),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.hij(" ","S.No"," "))}function J(e,i){if(1&e&&(t.TgZ(0,"td",32)(1,"span",33),t._uU(2),t.qZA()()),2&e){const n=i.index,o=t.oxw(3);t.xp6(2),t.hij(" ",n+1+o.pageIndex*o.pageSize," ")}}function L(e,i){1&e&&(t.TgZ(0,"th",31),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.hij(" ","Full Name"," "))}function $(e,i){if(1&e&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",null==n?null:n.name," ")}}function R(e,i){1&e&&(t.TgZ(0,"th",34),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.hij(" ","Email"," "))}function O(e,i){if(1&e&&(t.TgZ(0,"td",35),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",null==n?null:n.email," ")}}function E(e,i){1&e&&(t.TgZ(0,"th",31),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.hij(" ","Phone"," "))}function H(e,i){if(1&e&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",null==n?null:n.phone," ")}}function M(e,i){1&e&&(t.TgZ(0,"th",31),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.hij(" ","Subject"," "))}function F(e,i){if(1&e&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",null==n?null:n.subject," ")}}function P(e,i){1&e&&(t.TgZ(0,"th",31),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.hij(" ","Status"," "))}function W(e,i){if(1&e&&(t.ynx(0),t.TgZ(1,"span",36),t._uU(2),t.qZA(),t.BQk()),2&e){const n=t.oxw().$implicit;t.xp6(2),t.hij(" ",null==n?null:n.status,"")}}function G(e,i){if(1&e&&(t.ynx(0),t.TgZ(1,"span",37),t._uU(2),t.qZA(),t.BQk()),2&e){const n=t.oxw().$implicit;t.xp6(2),t.hij(" ",null==n?null:n.status,"")}}function K(e,i){if(1&e&&(t.TgZ(0,"td",32),t.YNc(1,W,3,1,"ng-container",11),t.YNc(2,G,3,1,"ng-container",11),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.Q6J("ngIf","open"===(null==n?null:n.status)),t.xp6(1),t.Q6J("ngIf","closed"===(null==n?null:n.status))}}function X(e,i){1&e&&(t.TgZ(0,"th",31),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.hij(" ","Create Date"," "))}function V(e,i){if(1&e&&(t.TgZ(0,"td",32)(1,"span",38),t._uU(2),t.ALo(3,"date"),t.qZA()()),2&e){const n=i.$implicit;t.xp6(2),t.hij(" ",t.Dn7(3,1,n.createdAt,"dd MMM yyyy, hh:mm a","UTC")," ")}}function q(e,i){1&e&&(t.TgZ(0,"th",31),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.hij(" ","last Updated"," "))}function tt(e,i){if(1&e&&(t.TgZ(0,"td",32)(1,"span",38),t._uU(2),t.ALo(3,"date"),t.qZA()()),2&e){const n=i.$implicit;t.xp6(2),t.hij(" ",t.Dn7(3,1,n.updatedAt,"dd MMM yyyy, hh:mm a","UTC")," ")}}function et(e,i){1&e&&(t.TgZ(0,"th",39),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.hij(" ","Action"," "))}function nt(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"td",32)(1,"button",40),t.NdJ("click",function(){const r=t.CHM(n).$implicit,dt=t.oxw(3);return t.KtG(dt.viewItem(r._id))}),t._UZ(2,"mat-icon",41),t.qZA()()}2&e&&(t.xp6(2),t.Q6J("svgIcon","heroicons_solid:eye"))}function it(e,i){1&e&&t._UZ(0,"tr",42)}const ot=function(e,i){return[e,i]};function at(e,i){if(1&e&&t._UZ(0,"tr",43),2&e){const n=i.$implicit,o=t.oxw(3);t.Q6J("routerLink",t.WLB(1,ot,n.id,o.activeTableId))}}function lt(e,i){if(1&e&&(t.TgZ(0,"table",14),t.ynx(1,15),t.YNc(2,B,2,1,"th",16),t.YNc(3,J,3,1,"td",17),t.BQk(),t.ynx(4,18),t.YNc(5,L,2,1,"th",16),t.YNc(6,$,2,1,"td",17),t.BQk(),t.ynx(7,19),t.YNc(8,R,2,1,"th",20),t.YNc(9,O,2,1,"td",21),t.BQk(),t.ynx(10,22),t.YNc(11,E,2,1,"th",16),t.YNc(12,H,2,1,"td",17),t.BQk(),t.ynx(13,23),t.YNc(14,M,2,1,"th",16),t.YNc(15,F,2,1,"td",17),t.BQk(),t.ynx(16,24),t.YNc(17,P,2,1,"th",16),t.YNc(18,K,3,2,"td",17),t.BQk(),t.ynx(19,25),t.YNc(20,X,2,1,"th",16),t.YNc(21,V,4,5,"td",17),t.BQk(),t.ynx(22,26),t.YNc(23,q,2,1,"th",16),t.YNc(24,tt,4,5,"td",17),t.BQk(),t.ynx(25,27),t.YNc(26,et,2,1,"th",28),t.YNc(27,nt,3,1,"td",17),t.BQk(),t.YNc(28,it,1,0,"tr",29),t.YNc(29,at,1,4,"tr",30),t.qZA()),2&e){const n=t.oxw(2);t.Q6J("dataSource",n.data),t.xp6(28),t.Q6J("matHeaderRowDef",n.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumns)}}function st(e,i){if(1&e&&(t.ynx(0),t.YNc(1,lt,30,3,"table",13),t.BQk()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",!n.isLoading)}}function ct(e,i){if(1&e&&(t.ynx(0),t._UZ(1,"app-loading-skeltons",44),t.BQk()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("skeltonType",n.skletonTable)}}function mt(e,i){1&e&&(t.ynx(0),t._UZ(1,"app-empty-state",45),t.BQk()),2&e&&(t.xp6(1),t.Q6J("isSvgImage",!1)("stateTitle","THERE IS NO RESUIT"))}const pt=function(e,i){return{"pointer-events-none":e,hidden:i}},ut=[{path:"",component:(()=>{class e{constructor(n,o){this._ContactUsService=n,this._router=o,this.searchInputControl=new c.p4(""),this._unsubscribeAll=new S.x,this.total_recoreds=0,this.pageIndex=0,this.pageSize=10,this.pageSizeOptions=[10,20,50,100],this.skletonTable=U.q.TABLE,this.data=[],this.isLoading=!0,this.displayedColumns=["S_No","Full_name","Email","phone","subject","status","Create_date","updatedAt","Action"]}ngOnInit(){this._ContactUsService.updatePagination$({pageIndex:0,pageSize:10,length:0}),this._ContactUsService.tickets$.pipe((0,u.R)(this._unsubscribeAll),(0,I.T)(1),(0,d.b)(o=>{console.log("loading data !",o),this.data=o,this.isLoading=!1})).subscribe(),(0,N.a)([this._ContactUsService.pagination$.pipe((0,d.b)(o=>{console.log("data pagination$ !",o),this.pageIndex=o.pageIndex,this.pageSize=o.pageSize}),(0,T.x)((o,s)=>o.pageIndex===s.pageIndex&&o.pageSize===s.pageSize)),this.searchInputControl.valueChanges.pipe((0,Q.O)(""),(0,T.x)())]).pipe((0,u.R)(this._unsubscribeAll),(0,j.w)(([o,s])=>(this.isLoading=!0,this._ContactUsService.getTickets(o?.pageIndex,o?.pageSize,s))),(0,Y.K)(o=>(this.isLoading=!1,(0,D.of)(o)))).subscribe(),this._ContactUsService.pagination$.pipe((0,u.R)(this._unsubscribeAll),(0,d.b)(o=>{this._paginator.length=o.length,this.total_recoreds=o.length,this._paginator.pageIndex=o.pageIndex,this._paginator.pageSize=o.pageSize})).subscribe()}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}pageChange(n){console.log("page changed",n),this._ContactUsService.updatePagination$(n)}viewItem(n){this._router.navigate(["./contact-us/tickets/ticket"],{})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(w.D),t.Y36(z.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-tickets"]],viewQuery:function(n,o){if(1&n&&t.Gf(p.NW,7),2&n){let s;t.iGM(s=t.CRH())&&(o._paginator=s.first)}},standalone:!0,features:[t.jDz],decls:19,vars:14,consts:[[1,"h-full","max-h-max","max-w-full","min-w-max","w-full","pt-9","pb-9","md:px-8","lg:px-12","mx-auto"],[1,"rounded-lg","flex","flex-col","bg-card","h-full","min-w-max","mx-auto"],[1,"w-full","px-6","pt-10","pb-4","border-b","flex","justify-between"],[1,"text-2xl","font-semibold"],[1,"relative","flex","flex-col","sm:flex-row","flex-0","sm:items-end","sm:justify-between","py-2","px-6","md:px-8","border-b"],[1,"flex","w-full","flex-col","sm:flex-row","sm:items-end","sm:justify-between","gap-x-4"],[1,"w-full","md:w-1/2"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","","placeholder","search ...",3,"formControl","autocomplete"],[1,"flex","flex-col","flex-auto"],[1,"flex","flex-col","w-full","h-full","max-h-max","max-w-full"],[4,"ngIf"],[1,"border-t","rounded-b-lg",3,"ngClass","pageSize","pageSizeOptions","showFirstLastButtons","page"],["mat-table","","class","custom-table max-w-full",3,"dataSource",4,"ngIf"],["mat-table","",1,"custom-table","max-w-full",3,"dataSource"],["matColumnDef","S_No"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Full_name"],["matColumnDef","Email"],["class","hidden sm:table-cell","mat-header-cell","",4,"matHeaderCellDef"],["class","hidden sm:table-cell","mat-cell","",4,"matCellDef"],["matColumnDef","phone"],["matColumnDef","subject"],["matColumnDef","status"],["matColumnDef","Create_date"],["matColumnDef","updatedAt"],["matColumnDef","Action"],["mat-header-cell","","class","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["class","hover:bg-hover cursor-pointer","mat-row","",3,"routerLink",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[1,"font-medium","text-sm","text-secondary","whitespace-nowrap"],["mat-header-cell","",1,"hidden","sm:table-cell"],["mat-cell","",1,"hidden","sm:table-cell"],[1,"px-2","py-1","rounded","bg-green-600"],[1,"px-2","bg-warn-700","py-1","rounded"],[1,"pr-6","whitespace-nowrap"],["mat-header-cell","",1,""],["mat-icon-button","",3,"click"],[1,"text-green-400","icon-size-5",3,"svgIcon"],["mat-header-row",""],["mat-row","",1,"hover:bg-hover","cursor-pointer",3,"routerLink"],[3,"skeltonType"],["stateIcon","info",1,"bg-card","rounded-lg",3,"isSvgImage","stateTitle"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),t._uU(4),t.qZA()(),t.TgZ(5,"div",4)(6,"div",5)(7,"mat-form-field",6)(8,"mat-label"),t._uU(9,"Search"),t.qZA(),t._UZ(10,"mat-icon",7)(11,"input",8),t.qZA()()(),t.TgZ(12,"div",9)(13,"div",10),t.YNc(14,st,2,1,"ng-container",11),t.YNc(15,ct,2,1,"ng-container",11),t.ynx(16),t.TgZ(17,"mat-paginator",12),t.NdJ("page",function(r){return o.pageChange(r)}),t.qZA(),t.BQk(),t.YNc(18,mt,2,2,"ng-container",11),t.qZA()()()()),2&n&&(t.xp6(4),t.hij(" Total Records : ",o.total_recoreds," "),t.xp6(6),t.Q6J("svgIcon","heroicons_solid:search"),t.xp6(1),t.Q6J("formControl",o.searchInputControl)("autocomplete","true"),t.xp6(3),t.Q6J("ngIf",o.data.length),t.xp6(1),t.Q6J("ngIf",o.isLoading),t.xp6(2),t.Q6J("ngClass",t.WLB(11,pt,o.isLoading,!o.data.length))("pageSize",o.pageSize)("pageSizeOptions",o.pageSizeOptions)("showFirstLastButtons",!0),t.xp6(1),t.Q6J("ngIf",!o.data.length&&!o.isLoading))},dependencies:[m.O5,m.mk,m.uU,p.TU,p.NW,l.p0,l.BZ,l.fO,l.as,l.w1,l.Dz,l.nj,l.ge,l.ev,l.XQ,l.Gk,h.Ps,h.Hw,f.ot,f.RK,y.W,x.c,x.Nt,g.KE,g.hX,g.qo,c.UX,c.Fj,c.JJ,c.oH,b.LD,C.si,v.Is,A.vi,k.s,Z.AV],styles:["app-tickets[_ngcontent-%COMP%]{display:flex;height:-moz-fit-content;height:fit-content;min-height:100vh;flex-direction:column}"]}),e})()}]}}]);