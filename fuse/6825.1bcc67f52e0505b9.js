"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[6825],{6825:(y,v,l)=>{l.r(v),l.d(v,{default:()=>pt});var t=l(2223),m=l(4755),i=l(9401),h=l(1728),g=l(1217),D=l(8280),b=l(9114),x=l(430),A=l(9609),a=l(8467),r=l(787),c=l(4285),d=l(3915),f=l(5226),p=l.n(f),u=l(5855),C=l(3900),T=l(5312),Z=l(1531),F=l(65);function Q(e,s){if(1&e&&(t.TgZ(0,"mat-option",17)(1,"span",18),t._uU(2),t.qZA()()),2&e){const n=s.$implicit;t.Q6J("value",n.lang_code),t.xp6(2),t.Oqu(n.language_name)}}function O(e,s){if(1&e&&(t.ynx(0),t.TgZ(1,"mat-form-field",14)(2,"mat-label"),t._uU(3),t.qZA(),t.TgZ(4,"mat-select",15),t.YNc(5,Q,3,2,"mat-option",16),t.qZA()(),t.BQk()),2&e){const n=t.oxw();t.xp6(3),t.Oqu("languages "),t.xp6(1),t.Q6J("formControlName","lang_code"),t.xp6(1),t.Q6J("ngForOf",n.languages)}}function U(e,s){if(1&e&&(t.TgZ(0,"mat-option",20)(1,"span",18),t._uU(2),t.qZA()()),2&e){const n=s.$implicit;t.Q6J("value",n.value),t.xp6(2),t.Oqu(n.name)}}function E(e,s){if(1&e&&(t.ynx(0),t.TgZ(1,"mat-form-field",5)(2,"mat-label"),t._uU(3),t.qZA(),t.TgZ(4,"mat-select",15),t.YNc(5,U,3,2,"mat-option",19),t.qZA()(),t.BQk()),2&e){const n=t.oxw();t.xp6(3),t.Oqu("Discount Type "),t.xp6(1),t.Q6J("formControlName","discount_type"),t.xp6(1),t.Q6J("ngForOf",n.discount_type)}}function J(e,s){if(1&e&&(t.TgZ(0,"mat-option",20)(1,"span",18),t._uU(2),t.qZA()()),2&e){const n=s.$implicit;t.Q6J("value",n.value),t.xp6(2),t.Oqu(n.name)}}function P(e,s){if(1&e&&(t.ynx(0),t.TgZ(1,"mat-form-field",5)(2,"mat-label"),t._uU(3),t.qZA(),t.TgZ(4,"mat-select",15),t.YNc(5,J,3,2,"mat-option",19),t.qZA()(),t.BQk()),2&e){const n=t.oxw();t.xp6(3),t.Oqu("Discount in "),t.xp6(1),t.Q6J("formControlName","discount_in"),t.xp6(1),t.Q6J("ngForOf",n.discount_in)}}function q(e,s){1&e&&(t.ynx(0),t.TgZ(1,"mat-form-field",5)(2,"mat-label"),t._uU(3),t.qZA(),t._UZ(4,"input",21),t.qZA(),t.BQk()),2&e&&(t.xp6(3),t.Oqu("Advertisement URL "),t.xp6(1),t.Q6J("formControlName","advertisement_url"))}function k(e,s){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Start date must be less than the end date. "),t.qZA())}function w(e,s){if(1&e&&(t.ynx(0),t.TgZ(1,"mat-form-field",22)(2,"mat-label"),t._uU(3,"Start From "),t.qZA(),t._UZ(4,"input",23),t.TgZ(5,"mat-hint")(6,"span",24),t._uU(7," MM/DD/YYYY"),t.qZA()(),t._UZ(8,"mat-datepicker-toggle",25)(9,"mat-datepicker",null,26),t.YNc(11,k,2,0,"mat-error",4),t.qZA(),t.BQk()),2&e){const n=t.MAs(10),o=t.oxw();t.xp6(4),t.Q6J("matDatepicker",n)("formControlName","start_date"),t.xp6(4),t.Q6J("for",n),t.xp6(3),t.Q6J("ngIf",o.DiscountCouponsForm.hasError("dateRangeError"))}}function $(e,s){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," End date must be greater than the start date. "),t.qZA())}function B(e,s){if(1&e&&(t.ynx(0),t.TgZ(1,"mat-form-field",14)(2,"mat-label"),t._uU(3,"End Date (Till) "),t.qZA(),t._UZ(4,"input",27),t.TgZ(5,"mat-hint")(6,"span",24),t._uU(7," MM/DD/YYYY"),t.qZA()(),t._UZ(8,"mat-datepicker-toggle",25)(9,"mat-datepicker",null,28),t.qZA(),t.YNc(11,$,2,0,"mat-error",4),t.BQk()),2&e){const n=t.MAs(10),o=t.oxw();t.xp6(4),t.Q6J("matDatepicker",n)("formControlName","end_date"),t.xp6(4),t.Q6J("for",n),t.xp6(3),t.Q6J("ngIf",o.DiscountCouponsForm.hasError("dateRangeError"))}}function S(e,s){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," The lowest acceptable value 0 "),t.qZA())}function M(e,s){if(1&e&&(t.ynx(0),t.TgZ(1,"mat-form-field",14)(2,"mat-label"),t._uU(3,"Discount Value "),t.qZA(),t._UZ(4,"input",29),t.YNc(5,S,2,0,"mat-error",4),t.qZA(),t.BQk()),2&e){const n=t.oxw();t.xp6(4),t.Q6J("formControlName","coupon_amount"),t.xp6(1),t.Q6J("ngIf",n.DiscountCouponsForm.get("coupon_amount").hasError("min"))}}function Y(e,s){1&e&&(t.ynx(0),t.TgZ(1,"mat-form-field",5)(2,"mat-label"),t._uU(3,"Discount Coupon Code "),t.qZA(),t._UZ(4,"input",30),t.qZA(),t.BQk()),2&e&&(t.xp6(4),t.Q6J("formControlName","code"))}function L(e,s){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," The lowest acceptable value 0 "),t.qZA())}function R(e,s){if(1&e&&(t.ynx(0),t.TgZ(1,"mat-form-field",5)(2,"mat-label"),t._uU(3,"Min. Purchasing Amount "),t.qZA(),t._UZ(4,"input",31),t.YNc(5,L,2,0,"mat-error",4),t.qZA(),t.BQk()),2&e){const n=t.oxw();t.xp6(4),t.Q6J("formControlName","min_amount"),t.xp6(1),t.Q6J("ngIf",n.DiscountCouponsForm.get("min_amount").hasError("min"))}}function j(e,s){1&e&&(t.ynx(0),t.TgZ(1,"mat-form-field",5)(2,"mat-label"),t._uU(3,"Max. Purchasing Amount "),t.qZA(),t._UZ(4,"input",32),t.qZA(),t.BQk()),2&e&&(t.xp6(4),t.Q6J("formControlName","max_amount"))}function W(e,s){1&e&&(t.TgZ(0,"mat-form-field",22)(1,"mat-label"),t._uU(2,"Max. discount value in $ "),t.qZA(),t._UZ(3,"input",34),t.TgZ(4,"mat-hint")(5,"span",24),t._uU(6," (Only if code in % price)"),t.qZA()()()),2&e&&(t.xp6(3),t.Q6J("formControlName","max_discount_value"))}function K(e,s){if(1&e&&(t.ynx(0),t.YNc(1,W,7,1,"mat-form-field",33),t.BQk()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.ShowControle_max_discount_value)}}function z(e,s){1&e&&(t.ynx(0),t.TgZ(1,"mat-form-field",5)(2,"mat-label"),t._uU(3,"Number of time per user "),t.qZA(),t._UZ(4,"input",35),t.qZA(),t.BQk()),2&e&&(t.xp6(4),t.Q6J("formControlName","number_of_time"))}function X(e,s){if(1&e&&(t.TgZ(0,"mat-option",20)(1,"span",18),t._uU(2),t.qZA()()),2&e){const n=s.$implicit;t.Q6J("value",n.value),t.xp6(2),t.Oqu(n.name)}}function V(e,s){if(1&e&&(t.ynx(0),t.TgZ(1,"mat-form-field",14)(2,"mat-label"),t._uU(3),t.qZA(),t.TgZ(4,"mat-select",36),t.YNc(5,X,3,2,"mat-option",19),t.qZA(),t.TgZ(6,"mat-hint")(7,"span",24),t._uU(8," Select Selected users, If you want to give this discount code offer only for selected user else it will be for all users. "),t.qZA()()(),t.BQk()),2&e){const n=t.oxw();t.xp6(3),t.Oqu("For All User? "),t.xp6(1),t.Q6J("formControlName","for_all"),t.xp6(1),t.Q6J("ngForOf",n.for_all)}}function G(e,s){1&e&&(t.ynx(0),t.TgZ(1,"mat-form-field",37)(2,"mat-label"),t._uU(3),t.qZA(),t._UZ(4,"input",38),t.TgZ(5,"mat-hint")(6,"span",24),t._uU(7," ( Only if code for Selected users )"),t.qZA()()(),t.BQk()),2&e&&(t.xp6(3),t.Oqu("Enter Email "),t.xp6(1),t.Q6J("formControlName","all_users"))}function H(e,s){1&e&&t._UZ(0,"img",47)}function tt(e,s){if(1&e&&t._UZ(0,"img",48),2&e){const n=t.oxw(2);t.Q6J("src",n.Discount_Banner_Image_src,t.LSH)}}function et(e,s){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"div",39)(2,"p",40),t._uU(3),t.qZA(),t.TgZ(4,"div",41),t.YNc(5,H,1,0,"img",42),t.YNc(6,tt,1,1,"img",43),t.TgZ(7,"div")(8,"input",44,45),t.NdJ("change",function(){t.CHM(n);const _=t.MAs(9),I=t.oxw();return t.KtG(I.uploadImage(_.files))}),t.qZA()(),t.TgZ(10,"button",46),t.NdJ("click",function(){t.CHM(n);const _=t.MAs(9);return t.KtG(_.click())}),t._uU(11),t.qZA()()(),t.BQk()}if(2&e){const n=t.oxw();t.xp6(3),t.hij(" ","Discount Banner Image *"," "),t.xp6(2),t.Q6J("ngIf",!n.Discount_Banner_Image_src),t.xp6(1),t.Q6J("ngIf",n.Discount_Banner_Image_src),t.xp6(2),t.Q6J("disabled",n.DiscountCouponsForm.disabled)("multiple",!1)("accept","image/jpeg, image/png"),t.xp6(2),t.Q6J("disabled",n.DiscountCouponsForm.disabled),t.xp6(1),t.hij(" ","Select Image"," ")}}function nt(e,s){1&e&&t._UZ(0,"mat-progress-spinner",51),2&e&&t.Q6J("diameter",24)("mode","indeterminate")}function ot(e,s){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"button",49),t.NdJ("click",function(){t.CHM(n);const _=t.oxw();return t.KtG(_.submit())}),t.YNc(2,nt,1,2,"mat-progress-spinner",50),t._uU(3),t.qZA(),t.BQk()}if(2&e){const n=t.oxw();t.xp6(1),t.Q6J("disabled",n.DiscountCouponsForm.invalid||!n.Discount_Banner_Image_src),t.xp6(1),t.Q6J("ngIf",n.DiscountCouponsForm.disabled),t.xp6(1),t.hij(" ","Save"," ")}}function it(e,s){1&e&&t._UZ(0,"mat-progress-spinner",51),2&e&&t.Q6J("diameter",24)("mode","indeterminate")}function at(e,s){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"button",49),t.NdJ("click",function(){t.CHM(n);const _=t.oxw();return t.KtG(_.submitTranslation())}),t.YNc(2,it,1,2,"mat-progress-spinner",50),t._uU(3),t.qZA(),t.BQk()}if(2&e){const n=t.oxw();t.xp6(1),t.Q6J("disabled",n.DiscountCouponsForm.invalid),t.xp6(1),t.Q6J("ngIf",n.DiscountCouponsForm.disabled),t.xp6(1),t.hij(" ","Save"," ")}}const rt=function(e){return{"border rounded border-warn":e}};let st=(()=>{class e{constructor(){this.mode="add",this.languages=[],this.id_coupon=null,this.imageSrc=null,this.Discount_Banner_Image_src=null,this.Discount_Banner_Image_file=null,this.discount_type=[{name:"Select Discount Type",value:""},{name:"Instant Discount",value:"instant"},{name:"Discount as Cashback",value:"cashback"}],this.discount_in=[{name:"Select Discount in",value:""},{name:"Percentage %",value:"percentage"},{name:"Fixed Amount in $",value:"fixed"}],this.ShowControle_max_discount_value=!1,this.for_all=[{name:"Select Option",value:""},{name:"For All Users",value:!0},{name:"For Selected users",value:!1}],this.toast=p().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:4e3}),this._formBuilder=(0,t.f3M)(i.QS),this.destroyRef=(0,t.f3M)(t.ktI),this._OffersService=(0,t.f3M)(T.b),this.location=(0,t.f3M)(m.Ye),this.route=(0,t.f3M)(Z.gz),this.LangTransatedService=(0,t.f3M)(d.A),this.quillModules={toolbar:[["bold","italic","underline"],[{align:[]},{list:"ordered"},{list:"bullet"}],["clean"]]}}ngOnInit(){this.DiscountCouponsForm=this._formBuilder.group({offer_title:["",[i.kI.required]],start_date:["",[i.kI.required]],end_date:["",[i.kI.required]],coupon_amount:["",[i.kI.required,i.kI.min(1)]],discount_in:["",[i.kI.required]],discount_type:["",[i.kI.required]],offer_description:["",[i.kI.required]],advertisement_url:["",i.kI.pattern("^(https?://)?[\\w.-]+(\\.[\\w.-]+)+[/#?]?.*$")],offer_image:[],status:["active"],is_featured:["true"],code:["",[i.kI.required]],min_amount:["",[i.kI.required,i.kI.min(1)]],max_amount:["",[i.kI.required,i.kI.min(1)]],number_of_time:["",[i.kI.required,i.kI.min(1)]],terms_of_usages:["",[i.kI.required]],for_all:["",[i.kI.required]],all_users:[""]},{validator:(0,F.W)()}),this.DiscountCouponsForm.get("discount_in").valueChanges.pipe((0,u.sL)(this.destroyRef)).subscribe(n=>{console.log("value change ",n),(!this.DiscountCouponsForm.contains("max_discount_value")||"percentage"!==n||!this.DiscountCouponsForm.get("max_discount_value").value)&&("percentage"!==n||this.DiscountCouponsForm.contains("max_discount_value")?(this.ShowControle_max_discount_value=!1,this.DiscountCouponsForm.contains("max_discount_value")&&this.DiscountCouponsForm.removeControl("max_discount_value")):(this.DiscountCouponsForm.addControl("max_discount_value",new i.NI("",[i.kI.required])),this.ShowControle_max_discount_value=!0))}),this._OffersService.discount_by_id$.pipe((0,u.sL)(this.destroyRef)).subscribe({next:n=>{console.log("data coupon by id",n),n&&"edit"===this.route.snapshot.data?.couponResolverById_data&&(this.mode="edit",this.id_coupon=n?._id,this.Discount_Banner_Image_src=n?.offer_image,this.DiscountCouponsForm.patchValue(n)),n&&"translation"===this.route.snapshot.data?.couponResolverById_data&&(this.id_coupon=n?._id,this.mode="translation",this.LangTransatedService.getLanguages().pipe((0,u.sL)(this.destroyRef)).subscribe({next:o=>{this.languages=o}}),this.DiscountCouponsForm.removeControl("min_amount"),this.DiscountCouponsForm.removeControl("max_amount"),this.DiscountCouponsForm.removeControl("number_of_time"),this.DiscountCouponsForm.removeControl("code"),this.DiscountCouponsForm.removeControl("discount_type"),this.DiscountCouponsForm.removeControl("status"),this.DiscountCouponsForm.removeControl("advertisement_url"),this.DiscountCouponsForm.removeControl("start_date"),this.DiscountCouponsForm.removeControl("end_date"),this.DiscountCouponsForm.removeControl("coupon_amount"),this.DiscountCouponsForm.removeControl("coupon_amount"),this.DiscountCouponsForm.removeControl("discount_in"),this.DiscountCouponsForm.removeControl("offer_image"),this.DiscountCouponsForm.removeControl("is_featured"),this.DiscountCouponsForm.removeControl("for_all"),this.DiscountCouponsForm.removeControl("all_users"),this.DiscountCouponsForm.addControl("lang_code",new i.NI("",[i.kI.required])),this.DiscountCouponsForm.addControl("discount_id",new i.NI(this.id_coupon)),this.DiscountCouponsForm.patchValue(n))}})}submit(){const n={...this.DiscountCouponsForm.value};console.log("paylaod: ",n),!this.DiscountCouponsForm.get("offer_image").value&&"add"===this.mode&&this.submitDataWithNewImage(),this.DiscountCouponsForm.get("offer_image").value&&"add"===this.mode&&this.submitWithOriginalImage(),this.Discount_Banner_Image_file&&"edit"===this.mode&&this.updateDataWithNewImage(),!this.Discount_Banner_Image_file&&"edit"===this.mode&&this.updateWithOriginalImage()}isEditorContentInvalid(n){}removeAvatar(){this.Discount_Banner_Image_src=null,this.Discount_Banner_Image_file=null}uploadImage(n){if(!n.length)return;const _=n[0];if(!["image/jpeg","image/png"].includes(_.type))return;const I=new FileReader;I.readAsDataURL(_),I.onload=()=>{this.Discount_Banner_Image_src=I.result},this.Discount_Banner_Image_file=_}submitDataWithNewImage(){this.DiscountCouponsForm.disable(),this._OffersService.uploadImage(this.Discount_Banner_Image_file).pipe((0,u.sL)(this.destroyRef),(0,C.w)(o=>{console.log("Uploading image switched ",o),this.DiscountCouponsForm.get("offer_image").setValue(o);const _={...this.DiscountCouponsForm.value};return this._OffersService.create_discount(_)})).subscribe(o=>{console.log("formResponse",o),this.toast.fire({icon:"success",title:"Success Add Discount Coupon"}),this.DiscountCouponsForm.enable(),this.location.back()},o=>{this.toast.fire({icon:"error",title:o?.error.message}),this.DiscountCouponsForm.enable(),console.error("Error occurred:",o)})}submitWithOriginalImage(){this.DiscountCouponsForm.disable();const n={...this.DiscountCouponsForm.value};this._OffersService.create_discount(n).pipe((0,u.sL)(this.destroyRef)).subscribe({next:o=>{this.toast.fire({icon:"success",title:"Success Add Discount Coupon"}),this.DiscountCouponsForm.enable(),this.location.back()},error:o=>{this.toast.fire({icon:"error",title:o?.error.message}),this.DiscountCouponsForm.enable()}})}updateWithOriginalImage(){this.DiscountCouponsForm.disable();const n={...this.DiscountCouponsForm.value};this._OffersService.update_discount_coupon(this.id_coupon,n).pipe((0,u.sL)(this.destroyRef)).subscribe({next:o=>{this.toast.fire({icon:"success",title:"Success Update Discount Coupon"}),this.DiscountCouponsForm.enable(),this.location.back()},error:o=>{this.toast.fire({icon:"error",title:o?.error.message}),this.DiscountCouponsForm.enable()}})}updateDataWithNewImage(){this.DiscountCouponsForm.disable(),this._OffersService.uploadImage(this.Discount_Banner_Image_file).pipe((0,C.w)(o=>{console.log("Uploading image switched ",o),this.DiscountCouponsForm.get("offer_image").setValue(o);const _={...this.DiscountCouponsForm.value};return this._OffersService.update_discount_coupon(this.id_coupon,_)}),(0,u.sL)(this.destroyRef)).subscribe(o=>{console.log("formResponse",o),this.toast.fire({icon:"success",title:"Success Update Discount Coupon"}),this.DiscountCouponsForm.enable(),this.location.back()},o=>{this.toast.fire({icon:"error",title:o?.error.message}),this.DiscountCouponsForm.enable(),console.error("Error occurred:",o)})}back(){this.location.back()}submitTranslation(){const n={...this.DiscountCouponsForm.value};console.log("paylaod",n),this.DiscountCouponsForm.disable(),console.log("Paylaod submitTranslation",n),this.LangTransatedService.copon_translate(n).pipe((0,u.sL)(this.destroyRef)).subscribe({next:o=>{this.toast.fire({icon:"success",title:"The discount coupon has been successfully translated"}),this.DiscountCouponsForm.enable(),this.location.back()},error:o=>{this.toast.fire({icon:"error",title:o?.error.message}),this.DiscountCouponsForm.enable()}})}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-add-discount-coupons"]],standalone:!0,features:[t.jDz],decls:42,vars:31,consts:[[1,"relative","inset-0","min-w-0","overflow-y-auto","p-0","w-full","bg-card","min-h-screen","rounded-md","mb-12"],[1,"flex-auto","pt-5","pb-5","md:px-8","lg:px-18","grid","sm:grid-cols-2","gap-x-6","w-full"],[1,"sm:col-span-2","px-2","h-full","pt-4"],[1,"w-full",3,"formGroup"],[4,"ngIf"],[1,"w-full"],["matInput","","placeholder","Discount Title",3,"formControlName"],["matInput","","placeholder","Short Description",3,"formControlName"],[1,""],[1,"font-semibold","text-default"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],["placeholder","Description About Code",1,"mt-2","w-full",3,"ngClass","required","formControlName","bounds","modules"],[1,"w-full","flex","items-center","justify-center","sm:justify-end","px-6","pt-4","space-x-3"],["mat-stroked-button","","type","button",3,"click"],["subscriptSizing","dynamic",1,"w-full","my-2"],[3,"formControlName"],["placeholder","select language",3,"value",4,"ngFor","ngForOf"],["placeholder","select language",3,"value"],[1,"ml-3"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["matInput","","placeholder","Advertisement URL",3,"formControlName"],[1,"w-full","my-2"],["matInput","","placeholder","Start From  ",3,"matDatepicker","formControlName"],[1,"dark:text-gray-400"],["matIconSuffix","",3,"for"],["picker1",""],["matInput","","placeholder","End Date (Till) ",3,"matDatepicker","formControlName"],["picker2",""],["matInput","","type","number","min","0","placeholder","Discount Value ",3,"formControlName"],["matInput","","placeholder","Discount Coupon Code ",3,"formControlName"],["matInput","","type","number","min","0","placeholder","Min. Purchasing Amount ",3,"formControlName"],["matInput","","type","number","min","0","placeholder","Max. Purchasing Amount",3,"formControlName"],["class","w-full my-2",4,"ngIf"],["matInput","","type","number","placeholder","Max. discount value in $",3,"formControlName"],["matInput","","type","number","min","0","placeholder","Number of time per user",3,"formControlName"],["placeholder","For All User?",3,"formControlName"],["subscriptSizing","dynamic",1,"w-full"],["matInput","","placeholder","Enter Email ",3,"formControlName"],[1,"sm:col-span-1","flex","flex-col","justify-end","items-end","min-w-70","min-h-50","max-w-70","max-h-max"],[1,"text-xl","font-semibold","my-2","text-default","text-start","block","w-full"],[1,"bg-default","flex","flex-col","justify-center","items-center","px-4","py-4","w-full","h-100"],["src","assets/images/image-upload.svg","alt","img alt","class","block object-fill w-96 h-72",4,"ngIf"],["alt","img","class","block object-contain w-96 h-72",3,"src",4,"ngIf"],["id","avatar-file-input","type","file",1,"absolute","h-0","w-0","opacity-0","invisible","pointer-events-none",3,"disabled","multiple","accept","change"],["product_imageInput",""],["mat-flat-button","","type","button",1,"block","bg-[#FFF9C4]","text-black","my-3","px-4","py-2",3,"disabled","click"],["src","assets/images/image-upload.svg","alt","img alt",1,"block","object-fill","w-96","h-72"],["alt","img",1,"block","object-contain","w-96","h-72",3,"src"],["type","button","mat-flat-button","","color","primary",1,"px-8",3,"disabled","click"],[3,"diameter","mode",4,"ngIf"],[3,"diameter","mode"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"form",3),t.YNc(4,O,6,3,"ng-container",4),t.ynx(5),t.TgZ(6,"mat-form-field",5)(7,"mat-label"),t._uU(8),t.qZA(),t._UZ(9,"input",6),t.qZA(),t.BQk(),t.ynx(10),t.TgZ(11,"mat-form-field",5)(12,"mat-label"),t._uU(13),t.qZA(),t._UZ(14,"input",7),t.qZA(),t.BQk(),t.YNc(15,E,6,3,"ng-container",4),t.YNc(16,P,6,3,"ng-container",4),t.YNc(17,q,5,2,"ng-container",4),t.YNc(18,w,12,4,"ng-container",4),t.YNc(19,B,12,4,"ng-container",4),t.YNc(20,M,6,2,"ng-container",4),t.YNc(21,Y,5,1,"ng-container",4),t.YNc(22,R,6,2,"ng-container",4),t.YNc(23,j,5,1,"ng-container",4),t.YNc(24,K,2,1,"ng-container",4),t.YNc(25,z,5,1,"ng-container",4),t.ynx(26),t.TgZ(27,"div",8)(28,"mat-label",9),t._uU(29),t.qZA(),t._UZ(30,"span",10)(31,"quill-editor",11),t.qZA(),t.BQk(),t.YNc(32,V,9,3,"ng-container",4),t.YNc(33,G,8,2,"ng-container",4),t.YNc(34,et,12,8,"ng-container",4),t.ynx(35),t.TgZ(36,"div",12),t.ynx(37),t.TgZ(38,"button",13),t.NdJ("click",function(){return o.back()}),t._uU(39),t.qZA(),t.BQk(),t.YNc(40,ot,4,3,"ng-container",4),t.YNc(41,at,4,3,"ng-container",4),t.qZA(),t.BQk(),t.qZA()()()()),2&n&&(t.xp6(3),t.Q6J("formGroup",o.DiscountCouponsForm),t.xp6(1),t.Q6J("ngIf","translation"===o.mode),t.xp6(4),t.Oqu("Discount Title "),t.xp6(1),t.Q6J("formControlName","offer_title"),t.xp6(4),t.Oqu("Short Description "),t.xp6(1),t.Q6J("formControlName","offer_description"),t.xp6(1),t.Q6J("ngIf","translation"!==o.mode),t.xp6(1),t.Q6J("ngIf","translation"!==o.mode),t.xp6(1),t.Q6J("ngIf","translation"!==o.mode),t.xp6(1),t.Q6J("ngIf","translation"!==o.mode),t.xp6(1),t.Q6J("ngIf","translation"!==o.mode),t.xp6(1),t.Q6J("ngIf","translation"!==o.mode),t.xp6(1),t.Q6J("ngIf","translation"!==o.mode),t.xp6(1),t.Q6J("ngIf","translation"!==o.mode),t.xp6(1),t.Q6J("ngIf","translation"!==o.mode),t.xp6(1),t.Q6J("ngIf","translation"!==o.mode),t.xp6(1),t.Q6J("ngIf","translation"!==o.mode),t.xp6(4),t.Oqu("Description About Code "),t.xp6(2),t.Q6J("ngClass",t.VKq(29,rt,o.isEditorContentInvalid("Description About Code")))("required",!0)("formControlName","terms_of_usages")("bounds","self")("modules",o.quillModules),t.xp6(1),t.Q6J("ngIf","translation"!==o.mode),t.xp6(1),t.Q6J("ngIf","translation"!==o.mode&&!o.DiscountCouponsForm.get("for_all").value),t.xp6(1),t.Q6J("ngIf","translation"!==o.mode),t.xp6(5),t.hij(" ","cance"," "),t.xp6(1),t.Q6J("ngIf","translation"!==o.mode),t.xp6(1),t.Q6J("ngIf","translation"===o.mode))},dependencies:[x.Ps,h.ot,h.lW,g.si,m.ax,m.O5,m.mk,i.UX,i._Y,i.Fj,i.wV,i.JJ,i.JL,i.Q7,i.qQ,i.sg,i.u,b.lN,b.KE,b.hX,b.bx,b.TO,b.R9,A.c,A.Nt,r.LD,r.gD,g.ey,g.Ng,a.Cq,a.Ou,c.g6,D.FA,D.Mq,D.hl,D.nW,i.u5]}),e})();var lt=l(262),ut=l(2843),ct=l(4004),mt=l(9646);const pt=[{path:"",resolve:{couponResolverById_data:(e,s)=>{const n=(0,t.f3M)(T.b),_=((0,t.f3M)(Z.F0),e.queryParamMap.get("id")),I=e.queryParamMap.get("action");return _?n.get_discount_by_id(_).pipe((0,lt.K)(N=>(console.error(N),(0,ut._)(N))),(0,ct.U)(N=>I)):(0,mt.of)(null)}},component:st}]},5312:(y,v,l)=>{l.d(v,{b:()=>b});var t=l(3144),m=l(5787),i=l(2340),h=l(1135),g=l(4004),D=l(2223);let b=(()=>{class x{get all_referral_program$(){return this._all_referral_program.asObservable()}get discount_coupons$(){return this._discount_coupons.asObservable()}get discount_by_id$(){return this._discount_by_id.asObservable()}get all_games_banner$(){return this._all_games_banner.asObservable()}get all_home_banner$(){return this._all_home_banner.asObservable()}get all_gift_banner$(){return this._all_gift_banner.asObservable()}constructor(a){this._httpClient=a,this._discount_by_id=new h.X(null),this._all_referral_program=new h.X(null),this._all_games_banner=new h.X(null),this._all_gift_banner=new h.X(null),this._all_home_banner=new h.X(null),this._discount_coupons=new h.X(null),this._pagination=new h.X({pageIndex:0,pageSize:10,length:0})}get pagination$(){return this._pagination.asObservable()}updatePagination$(a){this._pagination.next(a)}get_discount_coupons(a=0,r=10,c){let d=a+1,f=i.N.API_ENDPOINT+m.b.offers.all_discount,p=(new t.LE).set("page",d).set("limit",r);return c&&(p=p.append("code",c)),this._httpClient.get(`${f}`,{params:p}).pipe((0,g.U)(u=>{if(200===u.code){const C=u.data;return this._discount_coupons.next(C),this._pagination.next({length:u.page_info.count,pageIndex:a,pageSize:r}),C}}))}delete_discount_coupon(a){return this._httpClient.delete(`${i.N.API_ENDPOINT+m.b.offers.delete_discount}/${a}`)}create_discount(a){return this._httpClient.post(`${i.N.API_ENDPOINT+m.b.offers.create_discount}`,{...a})}uploadImage(a,r){let c=r||"offers",d=new FormData;d.append("image",a);let f=(new t.LE).set("folder",c);return this._httpClient.post(`${i.N.API_ENDPOINT+m.b.upload_file.upload_file}/`,d,{params:f}).pipe((0,g.U)(u=>{if(console.log("Uploading image response: ",u),u.success)return u.data[0]}))}get_discount_by_id(a){return this._httpClient.get(`${i.N.API_ENDPOINT+m.b.offers.get_discount_by_id}/${a}`).pipe((0,g.U)(c=>{if(200===c.code){const d=c.data[0];return this._discount_by_id.next(d),d}}))}update_discount_coupon(a,r){return this._httpClient.put(`${i.N.API_ENDPOINT+m.b.offers.update_discount}/${a}`,{...r})}get_all_referral_program(a=0,r=10,c){let d=a+1,f=i.N.API_ENDPOINT+m.b.offers.all_referral_program,p=(new t.LE).set("page",d).set("limit",r);return c&&(p=p.append("code",c)),this._httpClient.get(`${f}`,{params:p}).pipe((0,g.U)(u=>{if(200===u.code){const C=u.data;return this._all_referral_program.next(C),this._pagination.next({length:u.page_info.count,pageIndex:a,pageSize:r}),C}}))}create_referral_program(a){return this._httpClient.post(`${i.N.API_ENDPOINT+m.b.offers.create_referral_program}`,{...a})}delete_referral_program(a){return this._httpClient.delete(`${i.N.API_ENDPOINT+m.b.offers.delete_referral_program}/${a}`)}update_referral_program(a,r){return this._httpClient.put(`${i.N.API_ENDPOINT+m.b.offers.update_referral_program}/${a}`,{...r})}get_all_games_banner(a=0,r=10){let c=a+1,d=i.N.API_ENDPOINT+m.b.banners.all_games_banner,f=(new t.LE).set("page",c).set("limit",r);return this._httpClient.get(`${d}`,{params:f}).pipe((0,g.U)(p=>{if(200===p.code){const u=p.data;return this._all_games_banner.next(u),this._pagination.next({length:p.page_info.count,pageIndex:a,pageSize:r}),u}}))}create_game_banner(a){return this._httpClient.post(`${i.N.API_ENDPOINT+m.b.banners.create_game_banner}`,{...a})}update_game_banner(a,r){return this._httpClient.put(`${i.N.API_ENDPOINT+m.b.banners.update_game_banner}/${a}`,{...r})}delete_game_banner(a){return this._httpClient.delete(`${i.N.API_ENDPOINT+m.b.banners.delete_game_banner}/${a}`)}get_all_gift_banner(a=0,r=10){let c=a+1,d=i.N.API_ENDPOINT+m.b.banners.all_gift_banner,f=(new t.LE).set("page",c).set("limit",r);return this._httpClient.get(`${d}`,{params:f}).pipe((0,g.U)(p=>{if(200===p.code){const u=p.data;return this._all_gift_banner.next(u),this._pagination.next({length:p.page_info.count,pageIndex:a,pageSize:r}),u}}))}create_gift_banner(a){return this._httpClient.post(`${i.N.API_ENDPOINT+m.b.banners.create_gift_banner}`,{...a})}update_gift_banner(a,r){return this._httpClient.put(`${i.N.API_ENDPOINT+m.b.banners.update_gift_banner}/${a}`,{...r})}delete_gift_banner(a){return this._httpClient.delete(`${i.N.API_ENDPOINT+m.b.banners.delete_gift_banner}/${a}`)}get_all_home_banner(a=0,r=10){let c=a+1,d=i.N.API_ENDPOINT+m.b.banners.all_home_banner,f=(new t.LE).set("page",c).set("limit",r);return this._httpClient.get(`${d}`,{params:f}).pipe((0,g.U)(p=>{if(200===p.code){const u=p.data;return this._all_home_banner.next(u),this._pagination.next({length:p.page_info.count,pageIndex:a,pageSize:r}),u}}))}create_home_banner(a){return this._httpClient.post(`${i.N.API_ENDPOINT+m.b.banners.create_home_banner}`,{...a})}update_home_banner(a,r){return this._httpClient.put(`${i.N.API_ENDPOINT+m.b.banners.update_home_banner}/${a}`,{...r})}delete_home_banner(a){return this._httpClient.delete(`${i.N.API_ENDPOINT+m.b.banners.delete_home_banner}/${a}`)}}return x.\u0275fac=function(a){return new(a||x)(D.LFG(t.eN))},x.\u0275prov=D.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})()}}]);