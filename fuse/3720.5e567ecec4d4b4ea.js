"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[3720],{3720:(y,C,a)=>{a.r(C),a.d(C,{default:()=>mt});var d=a(4755),g=a(6702),l=a(3627),s=a(430),h=a(1728),T=a(957),x=a(9609),m=a(9401),A=a(787),R=a(5684),f=a(8505),I=a(9841),Z=a(1884),G=a(8675),p=a(3900),v=a(262),b=a(9300),D=a(5226),E=a.n(D),L=a(3177),_=a(5855),U=a(665),N=a(7489),w=a(9222),O=a(4619),t=a(2223),Q=a(1683),M=a(1531),J=a(7141),S=a(9114),Y=a(1217);function j(n,o){if(1&n&&(t.TgZ(0,"mat-option",16)(1,"span",17),t._uU(2),t.qZA()()),2&n){const e=o.$implicit;t.Q6J("value",e.value),t.xp6(2),t.Oqu(e.name)}}function P(n,o){1&n&&(t.TgZ(0,"th",32),t._uU(1),t.qZA()),2&n&&(t.xp6(1),t.hij(" ","S.No"," "))}function B(n,o){if(1&n&&(t.TgZ(0,"td",33)(1,"span",34),t._uU(2),t.qZA()()),2&n){const e=o.index,i=t.oxw(3);t.xp6(2),t.hij(" ",e+1+i.pageIndex*i.pageSize," ")}}function k(n,o){1&n&&(t.TgZ(0,"th",32),t._uU(1),t.qZA()),2&n&&(t.xp6(1),t.hij(" ","Image"," "))}function F(n,o){if(1&n&&t._UZ(0,"img",39),2&n){const e=t.oxw().$implicit;t.Q6J("alt","Product thumbnail image")("src",null==e?null:e.card_logo,t.LSH)}}function z(n,o){1&n&&(t.TgZ(0,"div",40),t._uU(1," NO THUMB "),t.qZA())}function H(n,o){if(1&n&&(t.TgZ(0,"td",33)(1,"div",35)(2,"div",36),t.YNc(3,F,1,2,"img",37),t.YNc(4,z,2,0,"div",38),t.qZA()()()),2&n){const e=o.$implicit;t.xp6(3),t.Q6J("ngIf",""!==(null==e?null:e.card_logo)),t.xp6(1),t.Q6J("ngIf",""===(null==e?null:e.card_logo))}}function $(n,o){1&n&&(t.TgZ(0,"th",32),t._uU(1),t.qZA()),2&n&&(t.xp6(1),t.hij(" ","Gift Card Name"," "))}function K(n,o){if(1&n&&(t.TgZ(0,"td",41),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.hij(" ",e.card_name," ")}}function W(n,o){1&n&&(t.TgZ(0,"th",32),t._uU(1),t.qZA()),2&n&&(t.xp6(1),t.hij(" ","Status"," "))}function X(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"span",45),t.NdJ("click",function(){t.CHM(e);const r=t.oxw().$implicit,c=t.oxw(3);return t.KtG(c.changeStatus(r))}),t._uU(1),t.qZA()}2&n&&(t.xp6(1),t.hij(" ","active"," "))}function q(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"span",46),t.NdJ("click",function(){t.CHM(e);const r=t.oxw().$implicit,c=t.oxw(3);return t.KtG(c.changeStatus(r))}),t._uU(1),t.qZA()}2&n&&(t.xp6(1),t.hij(" ","inActive"," "))}function V(n,o){if(1&n&&(t.TgZ(0,"td",33)(1,"div",42),t.YNc(2,X,2,1,"span",43),t.YNc(3,q,2,1,"span",44),t.qZA()()),2&n){const e=o.$implicit;t.xp6(2),t.Q6J("ngIf","active"===e.status),t.xp6(1),t.Q6J("ngIf","inActive"===e.status)}}function tt(n,o){1&n&&(t.TgZ(0,"th",32),t._uU(1),t.qZA()),2&n&&(t.xp6(1),t.hij(" ","createdAt"," "))}function et(n,o){if(1&n&&(t.TgZ(0,"td",33)(1,"span",47),t._uU(2),t.ALo(3,"date"),t.qZA()()),2&n){const e=o.$implicit;t.xp6(2),t.hij(" ",t.Dn7(3,1,e.createdAt,"dd MMM yyyy, hh:mm a","UTC")," ")}}function nt(n,o){1&n&&(t.TgZ(0,"th",48),t._uU(1),t.qZA()),2&n&&(t.xp6(1),t.hij(" ","Action"," "))}function at(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"td",33)(1,"button",49),t.NdJ("click",function(){const c=t.CHM(e).$implicit,u=t.oxw(3);return t.KtG(u.deleteCustomGiftCard(c._id))}),t._UZ(2,"mat-icon",50),t.qZA(),t.TgZ(3,"button",49),t.NdJ("click",function(){const c=t.CHM(e).$implicit,u=t.oxw(3);return t.KtG(u.editCustomGiftCard(c))}),t._UZ(4,"mat-icon",51),t.qZA(),t.TgZ(5,"button",49),t.NdJ("click",function(){const c=t.CHM(e).$implicit,u=t.oxw(3);return t.KtG(u.AddTranslated(c))}),t._UZ(6,"mat-icon",52),t.qZA()()}2&n&&(t.xp6(2),t.Q6J("svgIcon","heroicons_outline:trash"),t.xp6(2),t.Q6J("svgIcon","heroicons_solid:pencil-square"))}function it(n,o){1&n&&t._UZ(0,"tr",53)}function ot(n,o){1&n&&t._UZ(0,"tr",54)}function st(n,o){if(1&n&&(t.TgZ(0,"table",19),t.ynx(1,20),t.YNc(2,P,2,1,"th",21),t.YNc(3,B,3,1,"td",22),t.BQk(),t.ynx(4,23),t.YNc(5,k,2,1,"th",21),t.YNc(6,H,5,2,"td",22),t.BQk(),t.ynx(7,24),t.YNc(8,$,2,1,"th",21),t.YNc(9,K,2,1,"td",25),t.BQk(),t.ynx(10,26),t.YNc(11,W,2,1,"th",21),t.YNc(12,V,4,2,"td",22),t.BQk(),t.ynx(13,27),t.YNc(14,tt,2,1,"th",21),t.YNc(15,et,4,5,"td",22),t.BQk(),t.ynx(16,28),t.YNc(17,nt,2,1,"th",29),t.YNc(18,at,7,2,"td",22),t.BQk(),t.YNc(19,it,1,0,"tr",30),t.YNc(20,ot,1,0,"tr",31),t.qZA()),2&n){const e=t.oxw(2);t.Q6J("dataSource",e.CustomGiftCards),t.xp6(19),t.Q6J("matHeaderRowDef",e.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumns)}}function rt(n,o){if(1&n&&(t.ynx(0),t.YNc(1,st,21,3,"table",18),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.isLoading)}}function ct(n,o){if(1&n&&(t.ynx(0),t._UZ(1,"app-loading-skeltons",55),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("skeltonType",e.skletonTable)}}function lt(n,o){1&n&&(t.ynx(0),t._UZ(1,"app-empty-state",56),t.BQk()),2&n&&(t.xp6(1),t.Q6J("isSvgImage",!1)("stateTitle","THERE IS NO RESUIT"))}const dt=function(n,o){return{"pointer-events-none":n,hidden:o}},ut=function(){return[10]},mt=[{path:"",component:(()=>{class n{constructor(e,i,r,c){this._fuseConfirmationService=e,this.RouterService=i,this.destroyRef=r,this._CustomGiftCardService=c,this.pageIndex=0,this.pageSize=10,this.total_recoreds=0,this.status="",this.CustomGiftCards=[],this.LangStatus=[{value:"active",name:"Active"},{value:"inActive",name:"inActive"},{value:"",name:"All Status"}],this.skletonTable=L.q.TABLE,this.toast=E().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:4e3}),this.isLoading=!0,this.searchInputControl=new m.p4(""),this.statusInputControl=new m.p4(""),this.displayedColumns=["S_No","Image","gift_name","Status","Created","action"]}ngOnInit(){this._CustomGiftCardService.CustomGiftCard$.pipe((0,_.sL)(this.destroyRef),(0,R.T)(1),(0,f.b)(e=>{console.log("loading data !",e),this.CustomGiftCards=e,this.isLoading=!1})).subscribe(),(0,I.a)([this._CustomGiftCardService.pagination$.pipe((0,f.b)(e=>{this.pageIndex=e.pageIndex,this.pageSize=e.pageSize}),(0,Z.x)((e,i)=>e.pageIndex===i.pageIndex)),this.searchInputControl.valueChanges.pipe((0,G.O)("")),this.statusInputControl.valueChanges.pipe((0,G.O)(""))]).pipe((0,_.sL)(this.destroyRef),(0,p.w)(([e,i,r])=>(this.isLoading=!0,this._CustomGiftCardService.getCustomGiftCardS(e?.pageIndex,e?.pageSize,i,r))),(0,v.K)(e=>(this.isLoading=!1,e))).subscribe(),this._CustomGiftCardService.pagination$.pipe((0,_.sL)(this.destroyRef),(0,f.b)(e=>{this._paginator.length=e.length,this.total_recoreds=e.length,this._paginator.pageIndex=e.pageIndex,this._paginator.pageSize=e.pageSize})).subscribe()}pageChange(e){this._CustomGiftCardService.updatePagination$(e)}deleteCustomGiftCard(e){this._fuseConfirmationService.open({title:"Delete Custom Gift Card",message:"Are you sure you want to remove this item? This action cannot be undone!,",dismissible:!0,icon:{show:!0,name:"feather:alert-circle"},actions:{confirm:{label:"Delete"}}}).afterClosed().pipe((0,b.h)(r=>"confirmed"===r),(0,_.sL)(this.destroyRef),(0,p.w)(()=>this._CustomGiftCardService.deleteCustomGiftCard(e)),(0,f.b)(()=>{this.toast.fire({icon:"success",title:"Successfully deleted Custom Gift Card"})}),(0,p.w)(()=>this._CustomGiftCardService.getCustomGiftCardS())).subscribe()}addCustomGiftCard(){this.RouterService.navigate(["products/custom-gift-card/add-custom-gift-card"])}editCustomGiftCard(e){this.RouterService.navigate(["products/custom-gift-card/add-custom-gift-card"],{queryParams:{mode_action:"edit",id:e._id}})}AddTranslated(e){this.RouterService.navigate(["products/custom-gift-card/add-custom-gift-card"],{queryParams:{mode_action:"transate",id:e._id}})}changeStatus(e){const i=(0,N.cloneDeep)(e);let r=U.Qd;i.status=i.status===r.active?r.inActive:r.active,console.log("after changeis_featured",e.is_featured),this._fuseConfirmationService.open({title:"Update Status",message:"Are you sure you want to change  status?!,",dismissible:!0,icon:{show:!0,name:"feather:alert-circle",color:"primary"},actions:{confirm:{label:"Update Status",color:"primary"}}}).afterClosed().pipe((0,b.h)(u=>"confirmed"===u),(0,_.sL)(this.destroyRef),(0,p.w)(()=>this._CustomGiftCardService.UpdateCustomGiftCard(i,i._id).pipe((0,v.K)(u=>u))),(0,v.K)(u=>(this.toast.fire({icon:"warning",title:"warning something !"}),u)),(0,f.b)(()=>{this.toast.fire({icon:"success",title:"Successfully updated"}),this.isLoading=!0}),(0,p.w)(()=>this._CustomGiftCardService.getCustomGiftCardS().pipe((0,f.b)(()=>{})))).subscribe({})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Q.R),t.Y36(M.F0),t.Y36(t.ktI),t.Y36(J.h))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-custom-gift-card"]],viewQuery:function(e,i){if(1&e&&t.Gf(g.NW,7),2&e){let r;t.iGM(r=t.CRH())&&(i._paginator=r.first)}},standalone:!0,features:[t.jDz],decls:22,vars:17,consts:[[1,"h-full","max-h-max","max-w-full","min-w-max","w-full","pt-9","pb-9","md:px-8","lg:px-12","mx-auto"],[1,"rounded-lg","flex","flex-col","bg-card","h-full"],[1,"w-full","px-6","pt-10","pb-4","border-b","flex","justify-between"],[1,"text-2xl","font-semibold"],["mat-button","",1,"bg-accent","text-on-accent",3,"click"],[1,"relative","flex","flex-col","sm:flex-row","flex-0","sm:items-end","sm:justify-between","py-4","px-6","md:px-8","border-b","w-full"],[1,"flex","w-full","flex-col","sm:flex-row","sm:items-end","sm:justify-between","gap-x-4"],[1,"fuse-mat-dense","w-full"],["placeholder","select status",3,"formControl"],[3,"value",4,"ngFor","ngForOf"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","","placeholder","search ...",3,"formControl","autocomplete"],[1,"flex","flex-col","flex-auto"],[1,"flex","flex-col","w-full","h-full","max-h-max"],[4,"ngIf"],[1,"border",3,"ngClass","pageSizeOptions","showFirstLastButtons","page"],[3,"value"],[1,"ml-3"],["mat-table","","class","custom-table",3,"dataSource",4,"ngIf"],["mat-table","",1,"custom-table",3,"dataSource"],["matColumnDef","S_No"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Image"],["matColumnDef","gift_name"],["mat-cell","","class","",4,"matCellDef"],["matColumnDef","Status"],["matColumnDef","Created"],["matColumnDef","action"],["mat-header-cell","","class","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["class","hover:bg-hover cursor-pointer","mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[1,"font-medium","text-sm","text-secondary","whitespace-nowrap"],[1,""],[1,"relative","flex","flex-0","items-center","justify-center","w-12","h-12","mr-6","rounded","overflow-hidden","border"],["class","w-8",3,"alt","src",4,"ngIf"],["class","flex items-center justify-center w-full h-full text-xs font-semibold leading-none text-center uppercase",4,"ngIf"],[1,"w-8",3,"alt","src"],[1,"flex","items-center","justify-center","w-full","h-full","text-xs","font-semibold","leading-none","text-center","uppercase"],["mat-cell","",1,""],[1,"text-center","flex","flex-row","justify-center","items-center","w-full"],["mat-ripple","","class","active-btn",3,"click",4,"ngIf"],["mat-ripple","","class","inactive-btn",3,"click",4,"ngIf"],["mat-ripple","",1,"active-btn",3,"click"],["mat-ripple","",1,"inactive-btn",3,"click"],[1,"pr-6","whitespace-nowrap"],["mat-header-cell","",1,""],["mat-icon-button","",3,"click"],[1,"text-red-500","icon-size-5",3,"svgIcon"],[1,"icon-size-5","text-slate-800",3,"svgIcon"],["svgIcon","mat_solid:g_translate",1,"icon-size-5"],["mat-header-row",""],["mat-row","",1,"hover:bg-hover","cursor-pointer"],[3,"skeltonType"],["stateIcon","info",1,"bg-card","rounded-lg",3,"isSvgImage","stateTitle"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),t._uU(4),t.qZA(),t.TgZ(5,"button",4),t.NdJ("click",function(){return i.addCustomGiftCard()}),t._uU(6),t.qZA()(),t.TgZ(7,"div",5)(8,"div",6)(9,"mat-form-field",7)(10,"mat-select",8),t.YNc(11,j,3,2,"mat-option",9),t.qZA()(),t.TgZ(12,"mat-form-field",7),t._UZ(13,"mat-icon",10)(14,"input",11),t.qZA()()(),t.TgZ(15,"div",12)(16,"div",13),t.YNc(17,rt,2,1,"ng-container",14),t.YNc(18,ct,2,1,"ng-container",14),t.ynx(19),t.TgZ(20,"mat-paginator",15),t.NdJ("page",function(c){return i.pageChange(c)}),t.qZA(),t.BQk(),t.YNc(21,lt,2,2,"ng-container",14),t.qZA()()()()),2&e&&(t.xp6(4),t.hij(" Total Records : ",i.total_recoreds," "),t.xp6(2),t.hij(" ","Add New Custom GiftCard"," "),t.xp6(4),t.Q6J("formControl",i.statusInputControl),t.xp6(1),t.Q6J("ngForOf",i.LangStatus),t.xp6(2),t.Q6J("svgIcon","heroicons_solid:search"),t.xp6(1),t.Q6J("formControl",i.searchInputControl)("autocomplete","off"),t.xp6(3),t.Q6J("ngIf",i.CustomGiftCards.length),t.xp6(1),t.Q6J("ngIf",i.isLoading),t.xp6(2),t.Q6J("ngClass",t.WLB(13,dt,i.isLoading,!i.CustomGiftCards.length))("pageSizeOptions",t.DdM(16,ut))("showFirstLastButtons",!0),t.xp6(1),t.Q6J("ngIf",!i.CustomGiftCards.length&&!i.isLoading))},dependencies:[d.O5,d.mk,d.uU,d.ax,g.TU,g.NW,l.p0,l.BZ,l.fO,l.as,l.w1,l.Dz,l.nj,l.ge,l.ev,l.XQ,l.Gk,s.Ps,s.Hw,h.ot,h.lW,h.RK,T.W,x.c,x.Nt,S.KE,S.qo,m.UX,m.Fj,m.JJ,m.oH,A.LD,A.gD,Y.ey,O.vi,w.s],styles:["app-custom-gift-card[_ngcontent-%COMP%]{display:flex;height:-moz-fit-content;height:fit-content;min-height:100vh;flex-direction:column}"]}),n})()}]},665:(y,C,a)=>{a.d(C,{Qd:()=>d});var d=(()=>((d=d||{}).active="active",d.inActive="inActive",d))()}}]);