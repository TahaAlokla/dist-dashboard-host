"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[3557],{3557:(Ze,U,o)=>{o.r(U),o.d(U,{default:()=>ve});var e=o(2223),g=o(4755),m=o(9401),v=o(1531),I=o(1683),N=o(3177),A=o(5226),S=o.n(A),d=o(6702),Q=o(4693),h=o(5855),D=o(5684),p=o(8505),Y=o(9841),_=o(1884),f=o(8675),u=o(3900),x=o(262),T=o(9300),Z=o(1728),C=o(1217),w=o(430),b=o(9609),y=o(787),r=o(3627),J=o(957),j=o(4619),R=o(9222),M=o(9114);function k(t,a){if(1&t&&(e.TgZ(0,"mat-option",18)(1,"span",19),e._uU(2),e.qZA()()),2&t){const n=a.$implicit;e.Q6J("value",n.value),e.xp6(2),e.Oqu(n.name)}}function B(t,a){if(1&t&&(e.TgZ(0,"mat-option",18)(1,"span",19),e._uU(2),e.qZA()()),2&t){const n=a.$implicit;e.Q6J("value",n.value),e.xp6(2),e.Oqu(n.name)}}function E(t,a){1&t&&(e.TgZ(0,"th",42),e._uU(1),e.qZA()),2&t&&(e.xp6(1),e.hij(" ","S.No"," "))}function L(t,a){if(1&t&&(e.TgZ(0,"td",43)(1,"span",44),e._uU(2),e.qZA()()),2&t){const n=a.index,i=e.oxw(3);e.xp6(2),e.hij(" ",n+1+i.pageIndex*i.pageSize," ")}}function $(t,a){1&t&&(e.TgZ(0,"th",42),e._uU(1),e.qZA()),2&t&&(e.xp6(1),e.hij(" ","User Type"," "))}function q(t,a){if(1&t&&(e.TgZ(0,"td",43),e._uU(1),e.qZA()),2&t){const n=a.$implicit;e.xp6(1),e.hij(" ",n.user_type," ")}}function z(t,a){1&t&&(e.TgZ(0,"th",45),e._uU(1),e.qZA()),2&t&&(e.xp6(1),e.hij(" ","Full Name"," "))}function H(t,a){if(1&t&&(e.TgZ(0,"td",46),e._uU(1),e.qZA()),2&t){const n=a.$implicit;e.xp6(1),e.hij(" ",n.full_name," ")}}function O(t,a){1&t&&(e.TgZ(0,"th",45),e._uU(1),e.qZA()),2&t&&(e.xp6(1),e.hij(" ","Phone"," "))}function F(t,a){if(1&t&&(e.TgZ(0,"td",46),e._uU(1),e.qZA()),2&t){const n=a.$implicit;e.xp6(1),e.hij(" ",null==n?null:n.phone," ")}}function K(t,a){1&t&&(e.TgZ(0,"th",45),e._uU(1),e.qZA()),2&t&&(e.xp6(1),e.hij(" ","Email"," "))}function G(t,a){if(1&t){const n=e.EpF();e.TgZ(0,"td",46)(1,"span",47),e.NdJ("click",function(){const s=e.CHM(n).$implicit,c=e.oxw(3);return e.KtG(c.UserDetails(null==s?null:s._id))}),e._uU(2),e.qZA()()}if(2&t){const n=a.$implicit;e.xp6(2),e.hij(" ",null==n?null:n.email,"")}}function W(t,a){1&t&&(e.TgZ(0,"th",45),e._uU(1),e.qZA()),2&t&&(e.xp6(1),e.hij(" ","Wallet Amoun"," "))}function P(t,a){if(1&t&&(e.TgZ(0,"td",46),e._uU(1),e.qZA()),2&t){const n=a.$implicit;e.xp6(1),e.hij(" ",null==n||null==n.wallet_id?null:n.wallet_id.amount," ")}}function V(t,a){1&t&&(e.TgZ(0,"th",48),e._uU(1),e.qZA()),2&t&&(e.xp6(1),e.hij(" ","Email Validation"," "))}function X(t,a){1&t&&(e.TgZ(0,"span",51),e._uU(1,"Yes"),e.qZA())}function ee(t,a){1&t&&(e.TgZ(0,"span",52),e._uU(1,"No"),e.qZA())}function te(t,a){if(1&t){const n=e.EpF();e.ynx(0),e.TgZ(1,"span",53),e.NdJ("click",function(){e.CHM(n);const l=e.oxw().$implicit,s=e.oxw(3);return e.KtG(s.resend_email(l._id))}),e._uU(2),e.qZA(),e.BQk()}2&t&&(e.xp6(2),e.hij(" ","resend email"," "))}function ne(t,a){if(1&t&&(e.TgZ(0,"td",46),e.YNc(1,X,2,0,"span",49),e.YNc(2,ee,2,0,"span",50),e.YNc(3,te,3,1,"ng-container",16),e.qZA()),2&t){const n=a.$implicit;e.xp6(1),e.Q6J("ngIf",null==n?null:n.verified),e.xp6(1),e.Q6J("ngIf",!(null!=n&&n.verified)),e.xp6(1),e.Q6J("ngIf",!(null!=n&&n.verified))}}function ae(t,a){1&t&&(e.TgZ(0,"th",45),e._uU(1),e.qZA()),2&t&&(e.xp6(1),e.hij(" ","Invited_Users"," "))}function ie(t,a){if(1&t&&(e.TgZ(0,"td",46),e._uU(1),e.qZA()),2&t){const n=a.$implicit;e.xp6(1),e.hij(" ",null==n?null:n.child_user_count," ")}}function oe(t,a){1&t&&(e.TgZ(0,"th",45),e._uU(1),e.qZA()),2&t&&(e.xp6(1),e.hij(" ","Status"," "))}function le(t,a){if(1&t){const n=e.EpF();e.TgZ(0,"span",57),e.NdJ("click",function(){e.CHM(n);const l=e.oxw().$implicit,s=e.oxw(3);return e.KtG(s.changeStatus(l))}),e._uU(1),e.qZA()}2&t&&(e.xp6(1),e.hij(" ","active"," "))}function se(t,a){if(1&t){const n=e.EpF();e.TgZ(0,"span",58),e.NdJ("click",function(){e.CHM(n);const l=e.oxw().$implicit,s=e.oxw(3);return e.KtG(s.changeStatus(l))}),e._uU(1),e.qZA()}2&t&&(e.xp6(1),e.hij(" ","Denied"," "))}function re(t,a){if(1&t&&(e.TgZ(0,"td",46),e._uU(1),e.TgZ(2,"div",54),e.YNc(3,le,2,1,"span",55),e.YNc(4,se,2,1,"span",56),e.qZA()()),2&t){const n=a.$implicit;e.xp6(1),e.hij(" ",null==n?null:n.status," "),e.xp6(2),e.Q6J("ngIf","active"===n.status),e.xp6(1),e.Q6J("ngIf","Denied"===n.status)}}function me(t,a){1&t&&(e.TgZ(0,"th",45),e._uU(1),e.qZA()),2&t&&(e.xp6(1),e.hij(" ","Reg Date"," "))}function ce(t,a){if(1&t&&(e.TgZ(0,"td",46)(1,"span",59),e._uU(2),e.ALo(3,"date"),e.qZA()()),2&t){const n=a.$implicit;e.xp6(2),e.hij(" ",e.Dn7(3,1,n.createdAt,"dd MMM yyyy, hh:mm a","UTC")," ")}}function pe(t,a){1&t&&(e.TgZ(0,"th",60),e._uU(1),e.qZA()),2&t&&(e.xp6(1),e.hij(" ","Action"," "))}function _e(t,a){if(1&t){const n=e.EpF();e.TgZ(0,"td",46)(1,"button",61),e.NdJ("click",function(){const s=e.CHM(n).$implicit,c=e.oxw(3);return e.KtG(c.deleteRecored(s._id))}),e._UZ(2,"mat-icon",62),e.qZA(),e.TgZ(3,"button",61),e.NdJ("click",function(){const s=e.CHM(n).$implicit,c=e.oxw(3);return e.KtG(c.UserDetails(s._id))}),e._UZ(4,"mat-icon",63),e.qZA()()}2&t&&(e.xp6(2),e.Q6J("svgIcon","heroicons_outline:trash"),e.xp6(2),e.Q6J("svgIcon","heroicons_solid:pencil-square"))}function ue(t,a){1&t&&e._UZ(0,"tr",64)}function ge(t,a){1&t&&e._UZ(0,"tr",65)}function fe(t,a){if(1&t&&(e.TgZ(0,"table",21),e.ynx(1,22),e.YNc(2,E,2,1,"th",23),e.YNc(3,L,3,1,"td",24),e.BQk(),e.ynx(4,25),e.YNc(5,$,2,1,"th",23),e.YNc(6,q,2,1,"td",26),e.BQk(),e.ynx(7,27),e.YNc(8,z,2,1,"th",28),e.YNc(9,H,2,1,"td",29),e.BQk(),e.ynx(10,30),e.YNc(11,O,2,1,"th",28),e.YNc(12,F,2,1,"td",29),e.BQk(),e.ynx(13,31),e.YNc(14,K,2,1,"th",28),e.YNc(15,G,3,1,"td",29),e.BQk(),e.ynx(16,32),e.YNc(17,W,2,1,"th",28),e.YNc(18,P,2,1,"td",29),e.BQk(),e.ynx(19,33),e.YNc(20,V,2,1,"th",34),e.YNc(21,ne,4,3,"td",29),e.BQk(),e.ynx(22,35),e.YNc(23,ae,2,1,"th",28),e.YNc(24,ie,2,1,"td",29),e.BQk(),e.ynx(25,36),e.YNc(26,oe,2,1,"th",28),e.YNc(27,re,5,3,"td",29),e.BQk(),e.ynx(28,37),e.YNc(29,me,2,1,"th",28),e.YNc(30,ce,4,5,"td",29),e.BQk(),e.ynx(31,38),e.YNc(32,pe,2,1,"th",39),e.YNc(33,_e,5,2,"td",29),e.BQk(),e.YNc(34,ue,1,0,"tr",40),e.YNc(35,ge,1,0,"tr",41),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("dataSource",n.users),e.xp6(34),e.Q6J("matHeaderRowDef",n.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",n.displayedColumns)}}function de(t,a){if(1&t&&(e.ynx(0),e.YNc(1,fe,36,3,"table",20),e.BQk()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",!n.isLoading)}}function he(t,a){if(1&t&&(e.ynx(0),e._UZ(1,"app-loading-skeltons",66),e.BQk()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("skeltonType",n.skletonTable)}}function xe(t,a){1&t&&(e.ynx(0),e._UZ(1,"app-empty-state",67),e.BQk()),2&t&&(e.xp6(1),e.Q6J("isSvgImage",!1)("stateTitle","THERE IS NO RESUIT"))}const Ce=function(t,a){return{"pointer-events-none":t,hidden:a}},Ue=function(){return[10]},ve=[{path:"",component:(()=>{class t{constructor(){this.showAction=!0,this.pageIndex=0,this.pageSize=10,this.total_recoreds=0,this.users=[],this.LangStatus=[{value:"approved",name:"Approved"},{value:"denied",name:"Denied"},{value:"",name:"All"}],this.email_validate=[{value:!0,name:"Validated"},{value:!1,name:"Not verified"},{value:"",name:"All Emails"}],this.skletonTable=N.q.TABLE,this.toast=S().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:4e3}),this.isLoading=!0,this._fuseConfirmationService=(0,e.f3M)(I.R),this._RouterService=(0,e.f3M)(v.F0),this.activatedRoute=(0,e.f3M)(v.gz),this.destroyRef=(0,e.f3M)(e.ktI),this._UsersService=(0,e.f3M)(Q.f),this.email_searchInputControl=new m.p4,this.statusInputControl=new m.p4,this.email_validateInputControl=new m.p4,this.tagsInputControl=new m.p4,this.categoryInputControl=new m.p4,this.Customer_NameInputControl=new m.p4,this.displayedColumns=["S_No","user_type","full_name","phone","email","Wallet_Amoun","Email_Validation","Invited_Users","status","Reg_Date","action"]}ngOnInit(){this._UsersService.updatePagination$({pageIndex:0,pageSize:10,length:0}),this._UsersService.users$.pipe((0,h.sL)(this.destroyRef),(0,D.T)(1),(0,p.b)(i=>{console.log("loading data !",i),this.users=i,this.isLoading=!1})).subscribe(),(0,Y.a)([this._UsersService.pagination$.pipe((0,p.b)(i=>{this.pageIndex=i.pageIndex,this.pageSize=i.pageSize}),(0,_.x)((i,l)=>i.pageIndex===l.pageIndex)),this.statusInputControl.valueChanges.pipe((0,f.O)(""),(0,_.x)()),this.Customer_NameInputControl.valueChanges.pipe((0,f.O)(""),(0,_.x)()),this.email_validateInputControl.valueChanges.pipe((0,f.O)(""),(0,_.x)()),this.email_searchInputControl.valueChanges.pipe((0,f.O)(""),(0,_.x)(),(0,p.b)(()=>{this.statusInputControl.setValue(""),this.email_validateInputControl.setValue("")}))]).pipe((0,h.sL)(this.destroyRef),(0,u.w)(([i,l,s,c,Te])=>(this.isLoading=!0,this._UsersService.getUsers(i?.pageIndex,i?.pageSize,l,s,c,Te))),(0,x.K)(i=>(this.isLoading=!1,i))).subscribe(),this._UsersService.pagination$.pipe((0,h.sL)(this.destroyRef),(0,p.b)(i=>{this._paginator.length=i.length,this.total_recoreds=i.length,this._paginator.pageIndex=i.pageIndex,this._paginator.pageSize=i.pageSize})).subscribe()}pageChange(n){this._UsersService.updatePagination$(n)}UserDetails(n){this._RouterService.navigate(["./user-details"],{relativeTo:this.activatedRoute,queryParams:{user_id:n}})}deleteRecored(n){this._fuseConfirmationService.open({title:"Delete User Account !",message:"Are you sure you want to remove this item? This action cannot be undone!,",dismissible:!0,icon:{show:!0,name:"feather:alert-circle"},actions:{confirm:{label:"Delete"}}}).afterClosed().pipe((0,T.h)(l=>"confirmed"===l),(0,u.w)(()=>this._UsersService.delete_user_account(n).pipe((0,x.K)(l=>(this.toast.fire({icon:"warning",title:"warning something !"}),l)),(0,p.b)(()=>{this.isLoading=!0,this.toast.fire({icon:"success",title:"Successfully deleted Recored"})}))),(0,u.w)(()=>this._UsersService.getUsers())).subscribe()}resend_email(n){this._fuseConfirmationService.open({title:"Resend Email To User  !",message:"Send an email to the user telling him to verify his account",dismissible:!0,icon:{show:!0,name:"feather:alert-circle",color:"primary"},actions:{confirm:{label:"Resend Email",color:"primary"}}}).afterClosed().pipe((0,T.h)(l=>"confirmed"===l),(0,u.w)(()=>this._UsersService.resend_email(n).pipe((0,x.K)(l=>(this.toast.fire({icon:"warning",title:"warning something !"}),l)),(0,p.b)(()=>{this.isLoading=!0,this.toast.fire({icon:"success",title:"Successfully Resend Email"})}))),(0,u.w)(()=>this._UsersService.getUsers())).subscribe()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-user-management"]],viewQuery:function(n,i){if(1&n&&e.Gf(d.NW,7),2&n){let l;e.iGM(l=e.CRH())&&(i._paginator=l.first)}},standalone:!0,features:[e.jDz],decls:34,vars:19,consts:[[1,"relative","inset-0","min-w-0","w-full"],[1,"flex-auto","pt-9","pb-10","md:px-4","lg:px-6","min-w-max"],[1,"h-full","max-h-max","min-w-max"],[1,"rounded-lg","flex","flex-col","bg-card","h-full","w-full","min-w-max"],[1,"w-full","px-6","pt-10","pb-4","border-b"],[1,"text-2xl","font-semibold"],[1,"relative","flex","flex-col","sm:flex-row","flex-0","sm:items-end","sm:justify-between","py-4","px-6","md:px-2","border-b","w-full"],[1,"flex","w-full","flex-col","sm:flex-row","sm:items-end","sm:justify-between","gap-x-4","px-5"],[1,"w-full"],["placeholder","select status",3,"formControl"],[3,"value",4,"ngFor","ngForOf"],["placeholder","email_validate",3,"formControl"],["matInput","","type","text","placeholder","Customer Name",3,"formControl","autocomplete"],["matInput","","type","email","placeholder","search by Email",3,"formControl","autocomplete"],[1,"flex","flex-col","flex-auto","min-w-max"],[1,"flex","flex-col","w-full","h-full","max-h-max","min-w-max","border"],[4,"ngIf"],[1,"border",3,"ngClass","pageSizeOptions","showFirstLastButtons","page"],[3,"value"],[1,"ml-3"],["mat-table","","class","custom-table max-w-full",3,"dataSource",4,"ngIf"],["mat-table","",1,"custom-table","max-w-full",3,"dataSource"],["matColumnDef","S_No"],["mat-header-cell","","class","whitespace-nowrap px-2",4,"matHeaderCellDef"],["class","whitespace-nowrap px-2","mat-cell","",4,"matCellDef"],["matColumnDef","user_type"],["mat-cell","","class","whitespace-nowrap px-2",4,"matCellDef"],["matColumnDef","full_name"],["mat-header-cell","","class","whitespace-nowrap px-3",4,"matHeaderCellDef"],["mat-cell","","class","whitespace-nowrap px-3",4,"matCellDef"],["matColumnDef","phone"],["matColumnDef","email"],["matColumnDef","Wallet_Amoun"],["matColumnDef","Email_Validation"],["mat-header-cell","","class","whitespace-nowrap px-3 object-center",4,"matHeaderCellDef"],["matColumnDef","Invited_Users"],["matColumnDef","status"],["matColumnDef","Reg_Date"],["matColumnDef","action",1,"whitespace-nowrap","px-3"],["mat-header-cell","","class","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["class","hover:bg-hover cursor-pointer","mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","",1,"whitespace-nowrap","px-2"],["mat-cell","",1,"whitespace-nowrap","px-2"],[1,"font-medium","text-sm","text-secondary"],["mat-header-cell","",1,"whitespace-nowrap","px-3"],["mat-cell","",1,"whitespace-nowrap","px-3"],[1,"text-blue-500",3,"click"],["mat-header-cell","",1,"whitespace-nowrap","px-3","object-center"],["class","text-green-400 font-semibold",4,"ngIf"],["class","text-warn-500 font-semibold",4,"ngIf"],[1,"text-green-400","font-semibold"],[1,"text-warn-500","font-semibold"],["matRipple","",1,"bg-warn-500","text-white","px-1","rounded-md","max-w-max","text-xs","block","mb-1","text-center","mx-auto",3,"click"],[1,"text-center","flex","flex-row","justify-center","items-center","w-full"],["mat-ripple","","class","bg-green-500 text-white py-1 px-4 rounded-full w-3/4 min-w-max text-sm block",3,"click",4,"ngIf"],["mat-ripple","","class","bg-warn text-on-warn py-1 px-4 rounded-full w-3/4 min-w-max text-sm block",3,"click",4,"ngIf"],["mat-ripple","",1,"bg-green-500","text-white","py-1","px-4","rounded-full","w-3/4","min-w-max","text-sm","block",3,"click"],["mat-ripple","",1,"bg-warn","text-on-warn","py-1","px-4","rounded-full","w-3/4","min-w-max","text-sm","block",3,"click"],[1,""],["mat-header-cell","",1,""],["mat-icon-button","",3,"click"],[1,"text-red-500","icon-size-5",3,"svgIcon"],[1,"icon-size-5","text-slate-800",3,"svgIcon"],["mat-header-row",""],["mat-row","",1,"hover:bg-hover","cursor-pointer"],[3,"skeltonType"],["stateIcon","info",1,"bg-card","rounded-lg",3,"isSvgImage","stateTitle"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2",5),e._uU(6),e.qZA()(),e.TgZ(7,"div",6)(8,"div",7)(9,"mat-form-field",8)(10,"mat-label"),e._uU(11,"Select Status"),e.qZA(),e.TgZ(12,"mat-select",9),e.YNc(13,k,3,2,"mat-option",10),e.qZA()(),e.TgZ(14,"mat-form-field",8)(15,"mat-label"),e._uU(16,"Select Email validate"),e.qZA(),e.TgZ(17,"mat-select",11),e.YNc(18,B,3,2,"mat-option",10),e.qZA()(),e.TgZ(19,"mat-form-field",8)(20,"mat-label"),e._uU(21,"Saerch by Customer Name"),e.qZA(),e._UZ(22,"input",12),e.qZA(),e.TgZ(23,"mat-form-field",8)(24,"mat-label"),e._uU(25,"Saerch by Email"),e.qZA(),e._UZ(26,"input",13),e.qZA()()(),e.TgZ(27,"div",14)(28,"div",15),e.YNc(29,de,2,1,"ng-container",16),e.YNc(30,he,2,1,"ng-container",16),e.ynx(31),e.TgZ(32,"mat-paginator",17),e.NdJ("page",function(s){return i.pageChange(s)}),e.qZA(),e.BQk(),e.YNc(33,xe,2,2,"ng-container",16),e.qZA()()()()()()),2&n&&(e.xp6(6),e.hij(" Total Records : ",i.total_recoreds," "),e.xp6(6),e.Q6J("formControl",i.statusInputControl),e.xp6(1),e.Q6J("ngForOf",i.LangStatus),e.xp6(4),e.Q6J("formControl",i.email_validateInputControl),e.xp6(1),e.Q6J("ngForOf",i.email_validate),e.xp6(4),e.Q6J("formControl",i.Customer_NameInputControl)("autocomplete","true"),e.xp6(4),e.Q6J("formControl",i.email_searchInputControl)("autocomplete","true"),e.xp6(3),e.Q6J("ngIf",i.users.length),e.xp6(1),e.Q6J("ngIf",i.isLoading),e.xp6(2),e.Q6J("ngClass",e.WLB(15,Ce,i.isLoading,!i.users.length))("pageSizeOptions",e.DdM(18,Ue))("showFirstLastButtons",!0),e.xp6(1),e.Q6J("ngIf",!i.users.length&&!i.isLoading))},dependencies:[g.O5,g.ax,g.mk,g.uU,d.TU,d.NW,r.p0,r.BZ,r.fO,r.as,r.w1,r.Dz,r.nj,r.ge,r.ev,r.XQ,r.Gk,w.Ps,w.Hw,Z.ot,Z.RK,J.W,b.c,b.Nt,M.KE,M.hX,m.UX,m.Fj,m.JJ,m.oH,y.LD,y.gD,C.ey,C.si,C.wG,j.vi,R.s],styles:["app-user-management[_ngcontent-%COMP%]{display:flex;height:-moz-fit-content;height:fit-content;min-height:100vh;flex-direction:column}"]}),t})()}]}}]);