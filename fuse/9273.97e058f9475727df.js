"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[9273],{9273:(P,E,i)=>{i.r(E),i.d(E,{default:()=>pt});var x=i(1531),t=i(2223),_=i(4755),u=i(5580),d=i(9401),C=i(1728),N=i(1217),b=i(430),w=i(9609),n=i(6702),l=i(787),o=i(3627),c=i(9222),g=i(957),p=i(4619),m=i(1683),T=i(3177),Z=i(5226),$=i.n(Z),y=i(5312),A=i(5855),U=i(5684),I=i(8505),S=i(9841),D=i(1884),Q=i(8675),L=i(3900),R=i(262),J=i(9646),O=i(9114);function M(e,s){1&e&&(t.TgZ(0,"div",17),t._UZ(1,"mat-progress-bar",18),t.qZA()),2&e&&(t.xp6(1),t.Q6J("mode","indeterminate"))}function z(e,s){if(1&e&&(t.TgZ(0,"mat-option",19)(1,"span",20),t._uU(2),t.qZA()()),2&e){const a=s.$implicit;t.Q6J("value",a.name),t.xp6(2),t.Oqu(a.name)}}function j(e,s){1&e&&(t.TgZ(0,"th",40),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.hij(" ","S.No"," "))}function B(e,s){if(1&e&&(t.TgZ(0,"td",41)(1,"span",42),t._uU(2),t.qZA()()),2&e){const a=s.index,r=t.oxw(3);t.xp6(2),t.hij(" ",a+1+r.pageIndex*r.pageSize," ")}}function Y(e,s){1&e&&(t.TgZ(0,"th",43),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.hij(" ","Email For"," "))}function F(e,s){1&e&&t._UZ(0,"td",44)}function H(e,s){1&e&&(t.TgZ(0,"th",45),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.hij(" ","Email action"," "))}function K(e,s){1&e&&t._UZ(0,"td",44)}function W(e,s){1&e&&(t.TgZ(0,"th",45),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.hij(" ","Email Subject"," "))}function X(e,s){1&e&&t._UZ(0,"td",46)}function k(e,s){1&e&&(t.TgZ(0,"th",47),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.hij(" ","Status"," "))}function G(e,s){if(1&e){const a=t.EpF();t.TgZ(0,"span",52),t.NdJ("click",function(){t.CHM(a);const h=t.oxw().$implicit,f=t.oxw(3);return t.KtG(f.changeStatus(h))}),t._uU(1),t.qZA()}2&e&&(t.xp6(1),t.hij(" ","active"," "))}function V(e,s){if(1&e){const a=t.EpF();t.TgZ(0,"span",53),t.NdJ("click",function(){t.CHM(a);const h=t.oxw().$implicit,f=t.oxw(3);return t.KtG(f.changeStatus(h))}),t._uU(1),t.qZA()}2&e&&(t.xp6(1),t.hij(" ","inActive"," "))}function q(e,s){if(1&e&&(t.TgZ(0,"td",48),t.ynx(1),t.TgZ(2,"div",49),t.YNc(3,G,2,1,"span",50),t.YNc(4,V,2,1,"span",51),t.qZA(),t.BQk(),t.qZA()),2&e){const a=s.$implicit;t.xp6(3),t.Q6J("ngIf","active"===a.status),t.xp6(1),t.Q6J("ngIf","inActive"===a.status)}}function tt(e,s){1&e&&(t.TgZ(0,"th",47),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.hij(" ","Action"," "))}function et(e,s){if(1&e){const a=t.EpF();t.TgZ(0,"td",54)(1,"button",55),t.NdJ("click",function(){const f=t.CHM(a).$implicit,v=t.oxw(3);return t.KtG(v.deleteRecored(f._id))}),t._UZ(2,"mat-icon",56),t.qZA(),t.TgZ(3,"button",55),t.NdJ("click",function(){const f=t.CHM(a).$implicit,v=t.oxw(3);return t.KtG(v.navgtionToDetais(f._id,"edit"))}),t._UZ(4,"mat-icon",57),t.qZA(),t.TgZ(5,"button",55),t.NdJ("click",function(){const f=t.CHM(a).$implicit,v=t.oxw(3);return t.KtG(v.Additem(f,"translation"))}),t._UZ(6,"mat-icon",58),t.qZA()()}2&e&&(t.xp6(2),t.Q6J("svgIcon","heroicons_outline:trash"),t.xp6(2),t.Q6J("svgIcon","heroicons_solid:pencil-square"))}function nt(e,s){1&e&&t._UZ(0,"tr",59)}function at(e,s){1&e&&t._UZ(0,"tr",60)}function lt(e,s){if(1&e&&(t.TgZ(0,"table",22),t.ynx(1,23),t.YNc(2,j,2,1,"th",24),t.YNc(3,B,3,1,"td",25),t.BQk(),t.ynx(4,26),t.YNc(5,Y,2,1,"th",27),t.YNc(6,F,1,0,"td",28),t.BQk(),t.ynx(7,29),t.YNc(8,H,2,1,"th",30),t.YNc(9,K,1,0,"td",28),t.BQk(),t.ynx(10,31),t.YNc(11,W,2,1,"th",30),t.YNc(12,X,1,0,"td",32),t.BQk(),t.ynx(13,33),t.YNc(14,k,2,1,"th",34),t.YNc(15,q,5,2,"td",35),t.BQk(),t.ynx(16,36),t.YNc(17,tt,2,1,"th",34),t.YNc(18,et,7,2,"td",37),t.BQk(),t.YNc(19,nt,1,0,"tr",38),t.YNc(20,at,1,0,"tr",39),t.qZA()),2&e){const a=t.oxw(2);t.Q6J("dataSource",a.Rows_data),t.xp6(19),t.Q6J("matHeaderRowDef",a.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",a.displayedColumns)}}function it(e,s){if(1&e&&(t.ynx(0),t.YNc(1,lt,21,3,"table",21),t.BQk()),2&e){const a=t.oxw();t.xp6(1),t.Q6J("ngIf",!a.isLoading)}}function ot(e,s){if(1&e&&(t.ynx(0),t._UZ(1,"app-loading-skeltons",61),t.BQk()),2&e){const a=t.oxw();t.xp6(1),t.Q6J("skeltonType",a.skletonTable)}}function st(e,s){1&e&&(t.ynx(0),t._UZ(1,"app-empty-state",62),t.BQk()),2&e&&(t.xp6(1),t.Q6J("isSvgImage",!1)("stateTitle","THERE IS NO Items"))}const rt=function(e,s){return{"pointer-events-none":e,hidden:s}},_t=function(){return[10]},pt=[{path:"",component:(()=>{class e{constructor(){this.pageIndex=0,this.pageSize=10,this.total_recoreds=0,this.Rows_data=[],this.skletonTable=T.q.TABLE,this.isLoading=!0,this.Email_For=[{name:"user"},{name:"admin"}],this.destroyRef=(0,t.f3M)(t.ktI),this._OffersService=(0,t.f3M)(y.b),this._fuseConfirmationService=(0,t.f3M)(m.R),this.matDialogRef=(0,t.f3M)(u.uw),this._Route=(0,t.f3M)(x.F0),this.searchInputControl=new d.p4(""),this.displayedColumns=["S_No","Email_For","Email_action","Email_Subject","Status","Action"],this.toast=$().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:4e3})}ngOnInit(){this._OffersService.all_referral_program$.pipe((0,A.sL)(this.destroyRef),(0,U.T)(1),(0,I.b)(a=>{console.log("loading data !",a),this.Rows_data=a,this.isLoading=!1})).subscribe(),(0,S.a)([this._OffersService.pagination$.pipe((0,I.b)(a=>{console.log("data passed to pagination",a),this.pageIndex=a.pageIndex,this.pageSize=a.pageSize}),(0,D.x)((a,r)=>a.pageIndex===r.pageIndex&&a.pageSize===r.pageSize)),this.searchInputControl.valueChanges.pipe((0,Q.O)(""),(0,D.x)())]).pipe((0,A.sL)(this.destroyRef),(0,I.b)(()=>{this.isLoading=!0}),(0,L.w)(([a,r])=>(this.isLoading=!0,this._OffersService.get_all_referral_program(a?.pageIndex,a?.pageSize,r))),(0,R.K)(a=>(this.isLoading=!1,console.log("error loading pagination",a),(0,J.of)(a)))).subscribe(),this._OffersService.pagination$.pipe((0,A.sL)(this.destroyRef),(0,I.b)(a=>{this._paginator.length=a.length,this.total_recoreds=a.length,this._paginator.pageIndex=a.pageIndex,this._paginator.pageSize=a.pageSize})).subscribe()}pageChange(a){this._OffersService.updatePagination$(a)}navgtionToDetais(a,r){this._Route.navigate(["./email-templets/edit"],{queryParams:{id:a,action:r}})}}return e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-email-templets"]],viewQuery:function(a,r){if(1&a&&t.Gf(n.NW,7),2&a){let h;t.iGM(h=t.CRH())&&(r._paginator=h.first)}},standalone:!0,features:[t.jDz],decls:24,vars:15,consts:[[1,"relative","inset-0","min-w-0","w-full"],[1,"flex-auto","pt-9","pb-10","md:px-4","lg:px-6","min-w-max"],[1,"h-full","max-h-max","min-w-max"],[1,"rounded-lg","flex","flex-col","bg-card","h-full","w-full","min-w-max"],[1,"w-full","px-6","pt-10","pb-4","border-b","flex","justify-between"],[1,"text-2xl","font-semibold"],["mat-button","",1,"bg-accent","text-on-accent"],[1,"relative","flex","flex-col","sm:flex-row","flex-0","sm:items-end","sm:justify-between","pt-2","px-6","md:px-2","border-b","w-full"],["class","absolute inset-x-0 bottom-0",4,"ngIf"],[1,"flex","w-full","flex-col","sm:flex-row","sm:items-end","sm:justify-between","gap-x-4","px-5"],[1,"w-full","sm:w-1/3"],[3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],[1,"flex","flex-col","flex-auto","min-w-max"],[1,"flex","flex-col","w-full","h-full","max-h-max","min-w-max","border"],[4,"ngIf"],[1,"border",3,"ngClass","pageSizeOptions","showFirstLastButtons","page"],[1,"absolute","inset-x-0","bottom-0"],[3,"mode"],[3,"value"],[1,"ml-3"],["mat-table","","class","custom-table max-w-full",3,"dataSource",4,"ngIf"],["mat-table","",1,"custom-table","max-w-full",3,"dataSource"],["matColumnDef","S_No"],["mat-header-cell","","class","whitespace-nowrap px-1",4,"matHeaderCellDef"],["class","whitespace-nowrap","mat-cell","",4,"matCellDef"],["matColumnDef","Email_For"],["mat-header-cell","","class","whitespace-nowrap px-3",4,"matHeaderCellDef"],["mat-cell","","class","whitespace-nowrap px-2",4,"matCellDef"],["matColumnDef","Email_action"],["mat-header-cell","","class","px-3 whitespace-nowrap",4,"matHeaderCellDef"],["matColumnDef","Email_Subject"],["mat-cell","","class","whitespace-nowrap px-1",4,"matCellDef"],["matColumnDef","Status"],["mat-header-cell","","class","px-6 whitespace-nowrap",4,"matHeaderCellDef"],["mat-cell","","class","min-w-max px-2",4,"matCellDef"],["matColumnDef","Action"],["mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["class","hover:bg-hover cursor-pointer","mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","",1,"whitespace-nowrap","px-1"],["mat-cell","",1,"whitespace-nowrap"],[1,"font-medium","text-sm","text-secondary","whitespace-nowrap"],["mat-header-cell","",1,"whitespace-nowrap","px-3"],["mat-cell","",1,"whitespace-nowrap","px-2"],["mat-header-cell","",1,"px-3","whitespace-nowrap"],["mat-cell","",1,"whitespace-nowrap","px-1"],["mat-header-cell","",1,"px-6","whitespace-nowrap"],["mat-cell","",1,"min-w-max","px-2"],[1,"text-center","flex","flex-col","justify-center","items-center","w-full","gap-1","py-1"],["class","bg-green-500 text-white py-0.5 px-2 rounded-md w-3/4 min-w-max text-sm block",3,"click",4,"ngIf"],["class","bg-warn text-on-warn py-0.5 px-2 rounded-md w-3/4 min-w-max text-sm block",3,"click",4,"ngIf"],[1,"bg-green-500","text-white","py-0.5","px-2","rounded-md","w-3/4","min-w-max","text-sm","block",3,"click"],[1,"bg-warn","text-on-warn","py-0.5","px-2","rounded-md","w-3/4","min-w-max","text-sm","block",3,"click"],["mat-cell",""],["mat-icon-button","",3,"click"],[1,"text-red-500","icon-size-5",3,"svgIcon"],[1,"icon-size-5","text-slate-800",3,"svgIcon"],["svgIcon","mat_solid:g_translate",1,"icon-size-5"],["mat-header-row",""],["mat-row","",1,"hover:bg-hover","cursor-pointer"],[3,"skeltonType"],["stateIcon","info",1,"bg-card","rounded-lg",3,"isSvgImage","stateTitle"]],template:function(a,r){1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2",5),t._uU(6),t.qZA(),t.TgZ(7,"button",6),t._uU(8),t.qZA()(),t.TgZ(9,"div",7),t.YNc(10,M,2,1,"div",8),t.TgZ(11,"div",9)(12,"mat-form-field",10)(13,"mat-label"),t._uU(14," Email For "),t.qZA(),t.TgZ(15,"mat-select",11),t.YNc(16,z,3,2,"mat-option",12),t.qZA()()()(),t.TgZ(17,"div",13)(18,"div",14),t.YNc(19,it,2,1,"ng-container",15),t.YNc(20,ot,2,1,"ng-container",15),t.ynx(21),t.TgZ(22,"mat-paginator",16),t.NdJ("page",function(f){return r.pageChange(f)}),t.qZA(),t.BQk(),t.YNc(23,st,2,2,"ng-container",15),t.qZA()()()()()()),2&a&&(t.xp6(6),t.hij(" Total Records : ",r.total_recoreds," "),t.xp6(2),t.hij(" ","Add New "," "),t.xp6(2),t.Q6J("ngIf",r.isLoading),t.xp6(5),t.Q6J("formControlName","searchInputControl"),t.xp6(1),t.Q6J("ngForOf",r.Email_For),t.xp6(3),t.Q6J("ngIf",r.Rows_data.length),t.xp6(1),t.Q6J("ngIf",r.isLoading),t.xp6(2),t.Q6J("ngClass",t.WLB(11,rt,r.isLoading,!r.Rows_data.length))("pageSizeOptions",t.DdM(14,_t))("showFirstLastButtons",!0),t.xp6(1),t.Q6J("ngIf",!r.Rows_data.length&&!r.isLoading))},dependencies:[_.O5,_.ax,_.mk,n.TU,n.NW,o.p0,o.BZ,o.fO,o.as,o.w1,o.Dz,o.nj,o.ge,o.ev,o.XQ,o.Gk,b.Ps,b.Hw,C.ot,C.lW,C.RK,g.W,w.c,O.KE,O.hX,d.UX,d.JJ,d.u,l.LD,l.gD,N.ey,p.vi,c.s,N.si,u.Is,N.Ng],styles:["app-email-templets[_ngcontent-%COMP%]{display:flex;height:-moz-fit-content;height:fit-content;min-height:100vh;flex-direction:column}"]}),e})()}]},5312:(P,E,i)=>{i.d(E,{b:()=>N});var x=i(3144),t=i(5787),_=i(2340),u=i(1135),d=i(4004),C=i(2223);let N=(()=>{class b{get all_referral_program$(){return this._all_referral_program.asObservable()}get discount_coupons$(){return this._discount_coupons.asObservable()}get discount_by_id$(){return this._discount_by_id.asObservable()}get all_games_banner$(){return this._all_games_banner.asObservable()}get all_home_banner$(){return this._all_home_banner.asObservable()}get all_gift_banner$(){return this._all_gift_banner.asObservable()}constructor(n){this._httpClient=n,this._discount_by_id=new u.X(null),this._all_referral_program=new u.X(null),this._all_games_banner=new u.X(null),this._all_gift_banner=new u.X(null),this._all_home_banner=new u.X(null),this._discount_coupons=new u.X(null),this._pagination=new u.X({pageIndex:0,pageSize:10,length:0})}get pagination$(){return this._pagination.asObservable()}updatePagination$(n){this._pagination.next(n)}get_discount_coupons(n=0,l=10,o){let c=n+1,g=_.N.API_ENDPOINT+t.b.offers.all_discount,p=(new x.LE).set("page",c).set("limit",l);return o&&(p=p.append("code",o)),this._httpClient.get(`${g}`,{params:p}).pipe((0,d.U)(m=>{if(200===m.code){const T=m.data;return this._discount_coupons.next(T),this._pagination.next({length:m.page_info.count,pageIndex:n,pageSize:l}),T}}))}delete_discount_coupon(n){return this._httpClient.delete(`${_.N.API_ENDPOINT+t.b.offers.delete_discount}/${n}`)}create_discount(n){return this._httpClient.post(`${_.N.API_ENDPOINT+t.b.offers.create_discount}`,{...n})}uploadImage(n,l){let o=l||"offers",c=new FormData;c.append("image",n);let g=(new x.LE).set("folder",o);return this._httpClient.post(`${_.N.API_ENDPOINT+t.b.upload_file.upload_file}/`,c,{params:g}).pipe((0,d.U)(m=>{if(console.log("Uploading image response: ",m),m.success)return m.data[0]}))}get_discount_by_id(n){return this._httpClient.get(`${_.N.API_ENDPOINT+t.b.offers.get_discount_by_id}/${n}`).pipe((0,d.U)(o=>{if(200===o.code){const c=o.data[0];return this._discount_by_id.next(c),c}}))}update_discount_coupon(n,l){return this._httpClient.put(`${_.N.API_ENDPOINT+t.b.offers.update_discount}/${n}`,{...l})}get_all_referral_program(n=0,l=10,o){let c=n+1,g=_.N.API_ENDPOINT+t.b.offers.all_referral_program,p=(new x.LE).set("page",c).set("limit",l);return o&&(p=p.append("code",o)),this._httpClient.get(`${g}`,{params:p}).pipe((0,d.U)(m=>{if(200===m.code){const T=m.data;return this._all_referral_program.next(T),this._pagination.next({length:m.page_info.count,pageIndex:n,pageSize:l}),T}}))}create_referral_program(n){return this._httpClient.post(`${_.N.API_ENDPOINT+t.b.offers.create_referral_program}`,{...n})}delete_referral_program(n){return this._httpClient.delete(`${_.N.API_ENDPOINT+t.b.offers.delete_referral_program}/${n}`)}update_referral_program(n,l){return this._httpClient.put(`${_.N.API_ENDPOINT+t.b.offers.update_referral_program}/${n}`,{...l})}get_all_games_banner(n=0,l=10){let o=n+1,c=_.N.API_ENDPOINT+t.b.banners.all_games_banner,g=(new x.LE).set("page",o).set("limit",l);return this._httpClient.get(`${c}`,{params:g}).pipe((0,d.U)(p=>{if(200===p.code){const m=p.data;return this._all_games_banner.next(m),this._pagination.next({length:p.page_info.count,pageIndex:n,pageSize:l}),m}}))}create_game_banner(n){return this._httpClient.post(`${_.N.API_ENDPOINT+t.b.banners.create_game_banner}`,{...n})}update_game_banner(n,l){return this._httpClient.put(`${_.N.API_ENDPOINT+t.b.banners.update_game_banner}/${n}`,{...l})}delete_game_banner(n){return this._httpClient.delete(`${_.N.API_ENDPOINT+t.b.banners.delete_game_banner}/${n}`)}get_all_gift_banner(n=0,l=10){let o=n+1,c=_.N.API_ENDPOINT+t.b.banners.all_gift_banner,g=(new x.LE).set("page",o).set("limit",l);return this._httpClient.get(`${c}`,{params:g}).pipe((0,d.U)(p=>{if(200===p.code){const m=p.data;return this._all_gift_banner.next(m),this._pagination.next({length:p.page_info.count,pageIndex:n,pageSize:l}),m}}))}create_gift_banner(n){return this._httpClient.post(`${_.N.API_ENDPOINT+t.b.banners.create_gift_banner}`,{...n})}update_gift_banner(n,l){return this._httpClient.put(`${_.N.API_ENDPOINT+t.b.banners.update_gift_banner}/${n}`,{...l})}delete_gift_banner(n){return this._httpClient.delete(`${_.N.API_ENDPOINT+t.b.banners.delete_gift_banner}/${n}`)}get_all_home_banner(n=0,l=10){let o=n+1,c=_.N.API_ENDPOINT+t.b.banners.all_home_banner,g=(new x.LE).set("page",o).set("limit",l);return this._httpClient.get(`${c}`,{params:g}).pipe((0,d.U)(p=>{if(200===p.code){const m=p.data;return this._all_home_banner.next(m),this._pagination.next({length:p.page_info.count,pageIndex:n,pageSize:l}),m}}))}create_home_banner(n){return this._httpClient.post(`${_.N.API_ENDPOINT+t.b.banners.create_home_banner}`,{...n})}update_home_banner(n,l){return this._httpClient.put(`${_.N.API_ENDPOINT+t.b.banners.update_home_banner}/${n}`,{...l})}delete_home_banner(n){return this._httpClient.delete(`${_.N.API_ENDPOINT+t.b.banners.delete_home_banner}/${n}`)}}return b.\u0275fac=function(n){return new(n||b)(C.LFG(x.eN))},b.\u0275prov=C.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})()}}]);