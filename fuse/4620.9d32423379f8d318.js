"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[4620],{4620:(Q,v,s)=>{s.r(v),s.d(v,{default:()=>Ut});var t=s(2223),_=s(4755),N=s(1683),c=s(3979),g=s(5580),r=s(9401),U=s(5684),C=s(8505),D=s(9841),S=s(1884),E=s(8675),x=s(3900),A=s(262),Z=s(9300),J=s(5226),w=s.n(J),L=s(3177),R=s(6702),p=s(1217),y=s(787),b=s(9609),k=s(957),f=s(1728),T=s(430),m=s(3627),I=s(8467),h=s(9114),F=s(3915),d=s(5855);function M(o,a){if(1&o&&(t.TgZ(0,"mat-option",16)(1,"span",17),t._uU(2),t.qZA()()),2&o){const e=a.$implicit;t.Q6J("value",e.lang_code),t.xp6(2),t.Oqu(e.language_name)}}function O(o,a){1&o&&t._UZ(0,"mat-progress-spinner",18),2&o&&t.Q6J("diameter",24)("mode","indeterminate")}let j=(()=>{class o{constructor(){this.category=null,this.languages=[],this.toast=w().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:4e3}),this._formBuilder=(0,t.f3M)(r.QS),this.matDialogRef=(0,t.f3M)(g.so),this.data=(0,t.f3M)(g.WI),this.destroyRef=(0,t.f3M)(t.ktI),this.LangTransatedService=(0,t.f3M)(F.A)}ngOnInit(){console.log("data",this.data.category),this.categoryForm=this._formBuilder.group({category_name:[this.data.category.category_name,[r.kI.required]],category_id:[this.data.category._id,[r.kI.required]],lang_code:["En",[r.kI.required]]}),this.LangTransatedService.getLanguages().pipe((0,d.sL)(this.destroyRef)).subscribe({next:e=>{this.languages=e,console.log("translation",e)},error:e=>{}})}submit(){if(this.categoryForm.invalid)return;const e={...this.categoryForm.value};this.translateCategory(e)}translateCategory(e){this.LangTransatedService.translateCategory(e).pipe((0,d.sL)(this.destroyRef),(0,C.b)(n=>{201===n.code?(this.toast.fire({icon:"success",title:"Success Translate Category"}),this.matDialogRef.close("confirmed")):(this.toast.fire({icon:"error",title:"smoething error !"}),this.categoryForm.enable())}),(0,A.K)(n=>(console.log("error",n),this.toast.fire({icon:"error",title:n.message}),this.categoryForm.enable(),n))).subscribe()}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-add-translated"]],standalone:!0,features:[t.jDz],decls:32,vars:11,consts:[[1,"flex","flex-col","flex-auto"],[1,"flex","items-center","justify-between"],[1,"text-xl","md:text-3xl","font-bold","tracking-tight","leading-7","sm:leading-10","truncate"],["mat-dialog-close","","mat-icon-button",""],["svgIcon","heroicons_outline:x-circle",1,"text-primary"],[1,"w-full"],[1,"grid","sm:grid-cols-2","gap-6","w-full","mt-8","border-b","mb-4","pb-4","overflow-hidden","max-h-180",3,"formGroup"],[1,"sm:col-span-2"],[1,"fuse-mat-no-subscript","w-full"],[3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],["matInput","","placeholder","Product Category Name",3,"formControlName"],[1,"w-full","flex","items-center","justify-center","sm:justify-end","px-6","pt-4","space-x-3"],["mat-stroked-button","","mat-dialog-close","","type","button"],["mat-flat-button","","type","button","color","primary",1,"px-8",3,"disabled","click"],[3,"diameter","mode",4,"ngIf"],[3,"value"],[1,"ml-3"],[3,"diameter","mode"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div")(3,"h2",2),t.ynx(4),t._uU(5),t.BQk(),t.qZA()(),t.TgZ(6,"button",3),t._UZ(7,"mat-icon",4),t.qZA()(),t.TgZ(8,"div",5)(9,"form",6)(10,"div",7),t.ynx(11),t.TgZ(12,"div",7)(13,"mat-form-field",8)(14,"mat-label"),t._uU(15),t.qZA(),t.TgZ(16,"mat-select",9),t.YNc(17,M,3,2,"mat-option",10),t.qZA()()(),t.BQk(),t.TgZ(18,"div",7)(19,"mat-form-field",8)(20,"mat-label"),t._uU(21),t.qZA(),t._UZ(22,"input",11),t.qZA()()()()(),t.ynx(23),t.TgZ(24,"div",12),t.ynx(25),t.TgZ(26,"button",13),t._uU(27),t.qZA(),t.BQk(),t.ynx(28),t.TgZ(29,"button",14),t.NdJ("click",function(){return n.submit()}),t.YNc(30,O,1,2,"mat-progress-spinner",15),t._uU(31),t.qZA(),t.BQk(),t.qZA(),t.BQk(),t.qZA()),2&e&&(t.xp6(5),t.hij(" ","Add translate Category"," "),t.xp6(4),t.Q6J("formGroup",n.categoryForm),t.xp6(6),t.Oqu("Select Language"),t.xp6(1),t.Q6J("formControlName","lang_code"),t.xp6(1),t.Q6J("ngForOf",n.languages),t.xp6(4),t.Oqu("Category Name"),t.xp6(1),t.Q6J("formControlName","category_name"),t.xp6(5),t.hij(" ","cance"," "),t.xp6(2),t.Q6J("disabled",n.categoryForm.invalid),t.xp6(1),t.Q6J("ngIf",n.categoryForm.disabled),t.xp6(1),t.hij(" ","Save"," "))},dependencies:[_.O5,_.ax,T.Ps,T.Hw,f.ot,f.lW,f.RK,h.lN,h.KE,h.hX,r.UX,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,b.c,b.Nt,g.Is,g.ZT,p.si,y.LD,y.gD,p.ey,p.Ng,I.Cq,I.Ou]}),o})();var q=s(1531),Y=s(7489),B=s(665),G=s(9222),P=s(4619);function H(o,a){1&o&&(t.ynx(0),t._uU(1),t.BQk()),2&o&&(t.xp6(1),t.hij(" ","Edit Main Category "," "))}function $(o,a){1&o&&(t.ynx(0),t._uU(1),t.BQk()),2&o&&(t.xp6(1),t.hij(" ","Edit sub Category "," "))}function z(o,a){if(1&o&&(t.TgZ(0,"mat-option",18)(1,"span",19),t._uU(2),t.qZA()()),2&o){const e=a.$implicit;t.Q6J("value",e),t.xp6(2),t.Oqu(e)}}function K(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"button",29),t.NdJ("click",function(i){return t.CHM(e),t.oxw(2).removeAvatar(),t.KtG(i.stopPropagation())}),t._UZ(1,"mat-icon",30),t.qZA()}if(2&o){const e=t.oxw(2);t.Q6J("disabled",e.categoryForm.disabled),t.xp6(1),t.Q6J("svgIcon","heroicons_outline:trash")}}function W(o,a){1&o&&t._UZ(0,"img",31)}function X(o,a){if(1&o&&t._UZ(0,"img",32),2&o){const e=t.oxw(2);t.Q6J("src",e.imageSrc,t.LSH)}}function V(o,a){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",20)(2,"p",21),t._uU(3),t.qZA(),t.TgZ(4,"div",22),t.YNc(5,K,2,2,"button",23),t.YNc(6,W,1,0,"img",24),t.YNc(7,X,1,1,"img",25),t.TgZ(8,"div")(9,"input",26,27),t.NdJ("change",function(){t.CHM(e);const i=t.MAs(11),l=t.oxw();return t.KtG(l.uploadAvatar(i.files))}),t.qZA()(),t.TgZ(12,"button",28),t.NdJ("click",function(){t.CHM(e);const i=t.MAs(10);return t.KtG(i.click())}),t._uU(13),t.qZA()()(),t.BQk()}if(2&o){const e=t.oxw();t.xp6(3),t.hij(" ","sub category img *"," "),t.xp6(2),t.Q6J("ngIf",e.imageSrc),t.xp6(1),t.Q6J("ngIf",!e.imageSrc),t.xp6(1),t.Q6J("ngIf",e.imageSrc),t.xp6(2),t.Q6J("multiple",!1)("disabled",e.categoryForm.disabled)("accept","image/jpeg, image/png"),t.xp6(3),t.Q6J("disabled",e.categoryForm.disabled),t.xp6(1),t.hij(" ","Select Image"," ")}}function tt(o,a){1&o&&t._UZ(0,"mat-progress-spinner",33),2&o&&t.Q6J("diameter",24)("mode","indeterminate")}let et=(()=>{class o{constructor(){this.category=null,this.ImageFile=null,this.showImg=!1,this.statustypes=["active","inActive"],this.mode="main",this.toast=w().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:4e3}),this._formBuilder=(0,t.f3M)(r.QS),this.CategoriesService=(0,t.f3M)(c.G),this.matDialogRef=(0,t.f3M)(g.so),this.data=(0,t.f3M)(g.WI),this.destroyRef=(0,t.f3M)(t.ktI)}ngOnInit(){console.log("data",this.data),this.mode=this.data.category.category_type,this.categoryForm=this._formBuilder.group({category_name:[this.data.category.category_name,[r.kI.required]],status:[this.data.category.status,r.kI.required],category_type:[this.data.category.category_type,r.kI.required],image:[this.data.category?.image],_id:[this.data.category._id,[r.kI.required]]}),"sub"===this.mode&&(this.showImg=!0,this.imageSrc=this.categoryForm.get("image").value)}submit(){if(this.categoryForm.invalid)return;const e={...this.categoryForm.value};("main"==this.mode||"sub"==this.mode&&!this.ImageFile&&this.imageSrc)&&this.submitmainCategory(e),"sub"==this.mode&&this.ImageFile&&this.submitWithNewImage(e)}removeAvatar(){this.imageSrc=null,this.ImageFile=null,this.categoryForm.get("image").setValue("")}uploadAvatar(e){if(!e.length)return;const i=e[0];if(!["image/jpeg","image/png"].includes(i.type))return;const l=new FileReader;l.readAsDataURL(i),l.onload=()=>{this.imageSrc=l.result},this.ImageFile=i}submitmainCategory(e){this.CategoriesService.Updatecategory(e,e._id).pipe((0,d.sL)(this.destroyRef)).subscribe({next:n=>{this.toast.fire({icon:"success",title:"Success update  Category"}),this.matDialogRef.close("confirmed")},error:n=>{this.toast.fire({icon:"error",title:"smoething error !"}),this.categoryForm.enable()}})}submitWithNewImage(e){this.CategoriesService.uploadImage(this.ImageFile).pipe((0,d.sL)(this.destroyRef),(0,x.w)(i=>{console.log("Uploading image switched ",i),this.categoryForm.get("image").setValue(i);const l={...this.categoryForm.value};return console.log("paylaod: ",l),delete l.main_category,console.log("paylaod: ",l),this.CategoriesService.Updatecategory(e,e._id)})).subscribe({next:i=>{console.log("success add category",i),this.toast.fire({icon:"success",title:"Success Update Sub Category"}),this.matDialogRef.close("confirmed")},error:i=>{console.log("error:",i),this.toast.fire({icon:"error",title:i.error?.message}),this.categoryForm.enable()}})}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-edit-category"]],standalone:!0,features:[t.jDz],decls:36,vars:16,consts:[[1,"flex","flex-col","flex-auto"],[1,"flex","items-center","justify-between"],[1,"text-xl","md:text-3xl","font-bold","tracking-tight","leading-7","sm:leading-10","truncate"],[4,"ngIf"],["mat-dialog-close","","mat-icon-button",""],["svgIcon","heroicons_outline:x-circle",1,"text-primary"],[1,"w-full","border-t","overflow-y-scroll","max-h-128","px-4"],[1,"grid","sm:grid-cols-2","w-full","mt-2","border-b","mb-2","pb-2","overflow-hidden",3,"formGroup"],[1,"sm:col-span-2"],[1,"w-full"],["matInput","","placeholder","Product Category Name",3,"formControlName"],["matInput","","placeholder","category_type",3,"formControlName","readonly"],[3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],[1,"w-full","flex","items-center","justify-center","sm:justify-end","px-6","pt-4","space-x-3"],["mat-stroked-button","","mat-dialog-close","","type","button"],["mat-flat-button","","type","button","color","primary",1,"px-8",3,"disabled","click"],[3,"diameter","mode",4,"ngIf"],[3,"value"],[1,"ml-3"],[1,"sm:col-span-2","flex","flex-col","justify-center","items-center"],[1,"text-xl","font-semibold","my-1","text-default"],[1,"bg-default","flex","flex-col","justify-center","items-center","px-8","py-1","w-full"],["mat-icon-button","","class","flex items-center justify-center w-10 h-10 rounded-full cursor-pointer hover:bg-hover","matRipple","",3,"disabled","click",4,"ngIf"],["src","assets/images/image-upload.svg","alt","img","class","block min-w-50 min-h-50 max-w-50 max-h-50 object-fill",4,"ngIf"],["alt","img","class","block min-w-50 min-h-50 max-w-50 max-h-50 object-fill",3,"src",4,"ngIf"],["id","avatar-file-input","type","file",1,"absolute","h-0","w-0","opacity-0","invisible","pointer-events-none",3,"multiple","disabled","accept","change"],["img_banner","","avatarFileInput",""],["mat-flat-button","",1,"block","bg-[#FFF9C4]","text-black","my-1","px-4","py-2",3,"disabled","click"],["mat-icon-button","","matRipple","",1,"flex","items-center","justify-center","w-10","h-10","rounded-full","cursor-pointer","hover:bg-hover",3,"disabled","click"],[1,"text-red-500",3,"svgIcon"],["src","assets/images/image-upload.svg","alt","img",1,"block","min-w-50","min-h-50","max-w-50","max-h-50","object-fill"],["alt","img",1,"block","min-w-50","min-h-50","max-w-50","max-h-50","object-fill",3,"src"],[3,"diameter","mode"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div")(3,"h2",2),t.YNc(4,H,2,1,"ng-container",3),t.YNc(5,$,2,1,"ng-container",3),t.qZA()(),t.TgZ(6,"button",4),t._UZ(7,"mat-icon",5),t.qZA()(),t.TgZ(8,"div",6)(9,"form",7)(10,"div",8)(11,"mat-form-field",9)(12,"mat-label"),t._uU(13),t.qZA(),t._UZ(14,"input",10),t.qZA(),t.TgZ(15,"mat-form-field",9)(16,"mat-label"),t._uU(17),t.qZA(),t._UZ(18,"input",11),t.qZA(),t.TgZ(19,"mat-form-field",9)(20,"mat-label"),t._uU(21),t.qZA(),t.TgZ(22,"mat-select",12),t.YNc(23,z,3,2,"mat-option",13),t.qZA(),t.TgZ(24,"mat-hint"),t._uU(25,"Active the category"),t.qZA()()(),t.YNc(26,V,14,9,"ng-container",3),t.qZA()(),t.ynx(27),t.TgZ(28,"div",14),t.ynx(29),t.TgZ(30,"button",15),t._uU(31),t.qZA(),t.BQk(),t.ynx(32),t.TgZ(33,"button",16),t.NdJ("click",function(){return n.submit()}),t.YNc(34,tt,1,2,"mat-progress-spinner",17),t._uU(35),t.qZA(),t.BQk(),t.qZA(),t.BQk(),t.qZA()),2&e&&(t.xp6(4),t.Q6J("ngIf","main"===n.mode),t.xp6(1),t.Q6J("ngIf","sub"===n.mode),t.xp6(4),t.Q6J("formGroup",n.categoryForm),t.xp6(4),t.Oqu("Category Name"),t.xp6(1),t.Q6J("formControlName","category_name"),t.xp6(3),t.Oqu("Category Type"),t.xp6(1),t.Q6J("formControlName","category_type")("readonly",!0),t.xp6(3),t.Oqu("Status"),t.xp6(1),t.Q6J("formControlName","status"),t.xp6(1),t.Q6J("ngForOf",n.statustypes),t.xp6(3),t.Q6J("ngIf",n.showImg),t.xp6(5),t.hij(" ","cance"," "),t.xp6(2),t.Q6J("disabled",n.categoryForm.invalid||!n.imageSrc&&"sub"==n.mode),t.xp6(1),t.Q6J("ngIf",n.categoryForm.disabled),t.xp6(1),t.hij(" ","Save"," "))},dependencies:[_.O5,_.ax,T.Ps,T.Hw,f.ot,f.lW,f.RK,h.lN,h.KE,h.hX,h.bx,r.UX,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,b.c,b.Nt,g.Is,g.ZT,p.si,p.wG,y.LD,y.gD,p.ey,p.Ng,I.Cq,I.Ou]}),o})();function ot(o,a){if(1&o&&(t.TgZ(0,"mat-option",16)(1,"span",17),t._uU(2),t.qZA()()),2&o){const e=a.$implicit;t.Q6J("value",e),t.xp6(2),t.Oqu(e)}}function nt(o,a){1&o&&(t.TgZ(0,"th",33),t._uU(1),t.qZA()),2&o&&(t.xp6(1),t.hij(" ","S.No"," "))}function at(o,a){if(1&o&&(t.TgZ(0,"td",34)(1,"span",35),t._uU(2),t.qZA()()),2&o){const e=a.index,n=t.oxw(3);t.xp6(2),t.hij(" ",e+1+n.pageIndex*n.pageSize," ")}}function it(o,a){1&o&&(t.TgZ(0,"th",33),t._uU(1),t.qZA()),2&o&&(t.xp6(1),t.hij(" ","Image"," "))}function st(o,a){if(1&o&&t._UZ(0,"img",40),2&o){const e=t.oxw().$implicit;t.Q6J("alt","Product thumbnail image")("src",null==e?null:e.image,t.LSH)}}function rt(o,a){1&o&&(t.TgZ(0,"div",41),t._uU(1," NO THUMB "),t.qZA())}function lt(o,a){if(1&o&&(t.TgZ(0,"td",34)(1,"div",36)(2,"div",37),t.YNc(3,st,1,2,"img",38),t.YNc(4,rt,2,0,"div",39),t.qZA()()()),2&o){const e=a.$implicit;t.xp6(3),t.Q6J("ngIf",""!==(null==e?null:e.image)),t.xp6(1),t.Q6J("ngIf",""===(null==e?null:e.Image_Url))}}function ct(o,a){1&o&&(t.TgZ(0,"th",33),t._uU(1),t.qZA()),2&o&&(t.xp6(1),t.hij(" ","Category Name"," "))}function gt(o,a){if(1&o&&(t.TgZ(0,"td",42),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.xp6(1),t.hij(" ",e.category_name," ")}}function mt(o,a){1&o&&(t.TgZ(0,"th",33),t._uU(1),t.qZA()),2&o&&(t.xp6(1),t.hij(" ","Parent Category"," "))}function dt(o,a){if(1&o&&(t.ynx(0),t._uU(1),t.BQk()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.category_id.category_name," ")}}function ut(o,a){1&o&&t._uU(0),2&o&&t.hij(" ","Main Category"," ")}function pt(o,a){if(1&o&&(t.TgZ(0,"td",42),t.YNc(1,dt,2,1,"ng-container",43),t.YNc(2,ut,1,1,"ng-template",null,44,t.W1O),t.qZA()),2&o){const e=a.$implicit,n=t.MAs(3);t.xp6(1),t.Q6J("ngIf","sub"===e.category_type)("ngIfElse",n)}}function _t(o,a){1&o&&(t.TgZ(0,"th",33),t._uU(1),t.qZA()),2&o&&(t.xp6(1),t.hij(" ","Status"," "))}function ft(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"span",48),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit,l=t.oxw(3);return t.KtG(l.changeStatus(i))}),t._uU(1),t.qZA()}2&o&&(t.xp6(1),t.hij(" ","active"," "))}function ht(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"span",49),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit,l=t.oxw(3);return t.KtG(l.changeStatus(i))}),t._uU(1),t.qZA()}2&o&&(t.xp6(1),t.hij(" ","inActive"," "))}function xt(o,a){if(1&o&&(t.TgZ(0,"td",34)(1,"div",45),t.YNc(2,ft,2,1,"span",46),t.YNc(3,ht,2,1,"span",47),t.qZA()()),2&o){const e=a.$implicit;t.xp6(2),t.Q6J("ngIf","active"===e.status),t.xp6(1),t.Q6J("ngIf","inActive"===e.status)}}function Ct(o,a){1&o&&(t.TgZ(0,"th",33),t._uU(1),t.qZA()),2&o&&(t.xp6(1),t.hij(" ","createdAt"," "))}function yt(o,a){if(1&o&&(t.TgZ(0,"td",34)(1,"span",50),t._uU(2),t.ALo(3,"date"),t.qZA()()),2&o){const e=a.$implicit;t.xp6(2),t.hij(" ",t.Dn7(3,1,e.createdAt,"dd MMM yyyy, hh:mm a","UTC")," ")}}function bt(o,a){1&o&&(t.TgZ(0,"th",51),t._uU(1),t.qZA()),2&o&&(t.xp6(1),t.hij(" ","Action"," "))}function Tt(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"td",34)(1,"button",52),t.NdJ("click",function(){const l=t.CHM(e).$implicit,u=t.oxw(3);return t.KtG(u.deleteCategory(l._id))}),t._UZ(2,"mat-icon",53),t.qZA(),t.TgZ(3,"button",52),t.NdJ("click",function(){const l=t.CHM(e).$implicit,u=t.oxw(3);return t.KtG(u.Edit_category(l))}),t._UZ(4,"mat-icon",54),t.qZA(),t.TgZ(5,"button",52),t.NdJ("click",function(){const l=t.CHM(e).$implicit,u=t.oxw(3);return t.KtG(u.AddTranslated(l))}),t._UZ(6,"mat-icon",55),t.qZA()()}2&o&&(t.xp6(2),t.Q6J("svgIcon","heroicons_outline:trash"),t.xp6(2),t.Q6J("svgIcon","heroicons_solid:pencil-square"))}function vt(o,a){1&o&&t._UZ(0,"tr",56)}function At(o,a){1&o&&t._UZ(0,"tr",57)}function Zt(o,a){if(1&o&&(t.TgZ(0,"table",19),t.ynx(1,20),t.YNc(2,nt,2,1,"th",21),t.YNc(3,at,3,1,"td",22),t.BQk(),t.ynx(4,23),t.YNc(5,it,2,1,"th",21),t.YNc(6,lt,5,2,"td",22),t.BQk(),t.ynx(7,24),t.YNc(8,ct,2,1,"th",21),t.YNc(9,gt,2,1,"td",25),t.BQk(),t.ynx(10,26),t.YNc(11,mt,2,1,"th",21),t.YNc(12,pt,4,2,"td",25),t.BQk(),t.ynx(13,27),t.YNc(14,_t,2,1,"th",21),t.YNc(15,xt,4,2,"td",22),t.BQk(),t.ynx(16,28),t.YNc(17,Ct,2,1,"th",21),t.YNc(18,yt,4,5,"td",22),t.BQk(),t.ynx(19,29),t.YNc(20,bt,2,1,"th",30),t.YNc(21,Tt,7,2,"td",22),t.BQk(),t.YNc(22,vt,1,0,"tr",31),t.YNc(23,At,1,0,"tr",32),t.qZA()),2&o){const e=t.oxw(2);t.Q6J("dataSource",e.categories),t.xp6(22),t.Q6J("matHeaderRowDef",e.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumns)}}function It(o,a){if(1&o&&(t.ynx(0),t.YNc(1,Zt,24,3,"table",18),t.BQk()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.isLoading)}}function St(o,a){if(1&o&&(t.ynx(0),t._UZ(1,"app-loading-skeltons",58),t.BQk()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("skeltonType",e.skletonTable)}}function wt(o,a){1&o&&(t.ynx(0),t._UZ(1,"app-empty-state",59),t.BQk()),2&o&&(t.xp6(1),t.Q6J("isSvgImage",!1)("stateTitle","THERE IS NO RESUIT"))}const Rt=function(o,a){return{"pointer-events-none":o,hidden:a}},Nt=function(){return[10]},Ut=[{path:"",component:(()=>{class o{constructor(){this.pageIndex=0,this.pageSize=10,this.total_recoreds=0,this.status="",this.LangStatus=["active","inActive"],this.skletonTable=L.q.TABLE,this.toast=w().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:4e3}),this.isLoading=!0,this.searchInputControl=new r.p4,this.statusInputControl=new r.p4,this.displayedColumns=["S_No","Image","Category_Name","Parent_Category","Status","Created","action"],this.categories=[],this._fuseConfirmationService=(0,t.f3M)(N.R),this.matDialogRef=(0,t.f3M)(g.uw),this._CategoriesService=(0,t.f3M)(c.G),this._RouterService=(0,t.f3M)(q.F0),this.destroyRef=(0,t.f3M)(t.ktI)}ngOnInit(){this._CategoriesService.categories$.pipe((0,d.sL)(this.destroyRef),(0,U.T)(1),(0,C.b)(e=>{console.log("loading data !",e),this.categories=e,this.isLoading=!1})).subscribe(),(0,D.a)([this._CategoriesService.pagination$.pipe((0,C.b)(e=>{this.pageIndex=e.pageIndex,this.pageSize=e.pageSize}),(0,S.x)((e,n)=>e.pageIndex===n.pageIndex&&e.pageSize===n.pageSize)),this.searchInputControl.valueChanges.pipe((0,E.O)(""),(0,S.x)(),(0,C.b)(()=>{this.statusInputControl.setValue("")})),this.statusInputControl.valueChanges.pipe((0,E.O)(""),(0,S.x)())]).pipe((0,d.sL)(this.destroyRef),(0,x.w)(([e,n,i])=>(this.isLoading=!0,this._CategoriesService.getcategories(e?.pageIndex,e?.pageSize,n,i))),(0,A.K)(e=>(this.isLoading=!1,e))).subscribe(),this._CategoriesService.pagination$.pipe((0,d.sL)(this.destroyRef),(0,C.b)(e=>{this._paginator.length=e.length,this.total_recoreds=e.length,this._paginator.pageIndex=e.pageIndex,this._paginator.pageSize=e.pageSize})).subscribe()}addCategory(){this._RouterService.navigate(["/products/categories/add-category"])}pageChange(e){this._CategoriesService.updatePagination$(e)}deleteCategory(e){this._fuseConfirmationService.open({title:"Delete Category",message:"Are you sure you want to remove this item? This action cannot be undone!,",dismissible:!0,icon:{show:!0,name:"feather:alert-circle"},actions:{confirm:{label:"Delete"}}}).afterClosed().pipe((0,Z.h)(i=>"confirmed"===i),(0,d.sL)(this.destroyRef),(0,x.w)(()=>this._CategoriesService.delete_category(e)),(0,C.b)(()=>{this.toast.fire({icon:"success",title:"Successfully deleted category"})}),(0,x.w)(()=>this._CategoriesService.getcategories())).subscribe()}AddTranslated(e){this.matDialogRef.open(j,{maxWidth:"600px",width:"100%",panelClass:"tag-dialog",data:{category:e}}).afterClosed().pipe((0,Z.h)(i=>"confirmed"===i),(0,d.sL)(this.destroyRef),(0,x.w)(()=>this._CategoriesService.getcategories())).subscribe()}Edit_category(e){this.matDialogRef.open(et,{maxWidth:"600px",width:"100%",panelClass:"tag-dialog",data:{category:e}}).afterClosed().pipe((0,Z.h)(i=>"confirmed"===i),(0,d.sL)(this.destroyRef),(0,x.w)(()=>this._CategoriesService.getcategories())).subscribe()}changeStatus(e){const n=(0,Y.cloneDeep)(e);let i=B.Qd;n.status=n.status===i.active?i.inActive:i.active,this._fuseConfirmationService.open({title:"Update Status",message:"Are you sure you want to change  status?!,",dismissible:!0,icon:{show:!0,name:"feather:alert-circle",color:"primary"},actions:{confirm:{label:"Update Status",color:"primary"}}}).afterClosed().pipe((0,Z.h)(u=>"confirmed"===u),(0,d.sL)(this.destroyRef),(0,x.w)(()=>this._CategoriesService.Updatecategory(n,n._id).pipe((0,A.K)(u=>u))),(0,A.K)(u=>(this.toast.fire({icon:"warning",title:"warning something !"}),u)),(0,C.b)(()=>{this.toast.fire({icon:"success",title:"Successfully updated"}),this.isLoading=!0}),(0,x.w)(()=>this._CategoriesService.getcategories())).subscribe({})}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-categories"]],viewQuery:function(e,n){if(1&e&&t.Gf(R.NW,7),2&e){let i;t.iGM(i=t.CRH())&&(n._paginator=i.first)}},standalone:!0,features:[t.jDz],decls:22,vars:18,consts:[[1,"h-full","max-h-max","max-w-full","min-w-max","w-full","pt-9","pb-9","md:px-8","lg:px-12","mx-auto"],[1,"rounded-lg","flex","flex-col","bg-card","h-full"],[1,"w-full","px-6","pt-10","pb-4","border-b","flex","justify-between"],[1,"text-2xl","font-semibold"],["mat-button","",1,"bg-accent","text-on-accent",3,"click"],[1,"relative","flex","flex-col","sm:flex-row","flex-0","sm:items-end","sm:justify-between","py-4","px-6","md:px-8","border-b","w-full"],[1,"flex","w-full","flex-col","sm:flex-row","sm:items-end","sm:justify-between","gap-x-4"],[1,"fuse-mat-dense","w-full"],["placeholder","select status",3,"value","formControl"],[3,"value",4,"ngFor","ngForOf"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","","placeholder","search ...",3,"formControl","autocomplete"],[1,"flex","flex-col","flex-auto"],[1,"flex","flex-col","w-full","h-full","max-h-max"],[4,"ngIf"],[1,"border",3,"ngClass","pageSizeOptions","showFirstLastButtons","page"],[3,"value"],[1,"ml-3"],["mat-table","","class","custom-table",3,"dataSource",4,"ngIf"],["mat-table","",1,"custom-table",3,"dataSource"],["matColumnDef","S_No"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Image"],["matColumnDef","Category_Name"],["mat-cell","","class","",4,"matCellDef"],["matColumnDef","Parent_Category"],["matColumnDef","Status"],["matColumnDef","Created"],["matColumnDef","action"],["mat-header-cell","","class","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["class","hover:bg-hover cursor-pointer","mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[1,"font-medium","text-sm","text-secondary","whitespace-nowrap"],[1,""],[1,"relative","flex","flex-0","items-center","justify-center","w-12","h-12","mr-6","rounded","overflow-hidden","border"],["class","w-8",3,"alt","src",4,"ngIf"],["class","flex items-center justify-center w-full h-full text-xs font-semibold leading-none text-center uppercase",4,"ngIf"],[1,"w-8",3,"alt","src"],[1,"flex","items-center","justify-center","w-full","h-full","text-xs","font-semibold","leading-none","text-center","uppercase"],["mat-cell","",1,""],[4,"ngIf","ngIfElse"],["mainCategory",""],[1,"text-center","flex","flex-row","justify-center","items-center","w-full"],["mat-ripple","","class","bg-green-500 text-white py-1 px-4 rounded-full w-3/4 min-w-max text-sm block",3,"click",4,"ngIf"],["mat-ripple","","class","bg-warn text-on-warn py-1 px-4 rounded-full w-3/4 min-w-max text-sm block",3,"click",4,"ngIf"],["mat-ripple","",1,"bg-green-500","text-white","py-1","px-4","rounded-full","w-3/4","min-w-max","text-sm","block",3,"click"],["mat-ripple","",1,"bg-warn","text-on-warn","py-1","px-4","rounded-full","w-3/4","min-w-max","text-sm","block",3,"click"],[1,"pr-6","whitespace-nowrap"],["mat-header-cell","",1,""],["mat-icon-button","",3,"click"],[1,"text-red-500","icon-size-5",3,"svgIcon"],[1,"icon-size-5","text-slate-800",3,"svgIcon"],["svgIcon","mat_solid:g_translate",1,"icon-size-5"],["mat-header-row",""],["mat-row","",1,"hover:bg-hover","cursor-pointer"],[3,"skeltonType"],["stateIcon","info",1,"bg-card","rounded-lg",3,"isSvgImage","stateTitle"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),t._uU(4),t.qZA(),t.TgZ(5,"button",4),t.NdJ("click",function(){return n.addCategory()}),t._uU(6),t.qZA()(),t.TgZ(7,"div",5)(8,"div",6)(9,"mat-form-field",7)(10,"mat-select",8),t.YNc(11,ot,3,2,"mat-option",9),t.qZA()(),t.TgZ(12,"mat-form-field",7),t._UZ(13,"mat-icon",10)(14,"input",11),t.qZA()()(),t.TgZ(15,"div",12)(16,"div",13),t.YNc(17,It,2,1,"ng-container",14),t.YNc(18,St,2,1,"ng-container",14),t.ynx(19),t.TgZ(20,"mat-paginator",15),t.NdJ("page",function(l){return n.pageChange(l)}),t.qZA(),t.BQk(),t.YNc(21,wt,2,2,"ng-container",14),t.qZA()()()()),2&e&&(t.xp6(4),t.hij(" Total Records : ",n.total_recoreds," "),t.xp6(2),t.hij(" ","Add New Category"," "),t.xp6(4),t.Q6J("value",n.status)("formControl",n.statusInputControl),t.xp6(1),t.Q6J("ngForOf",n.LangStatus),t.xp6(2),t.Q6J("svgIcon","heroicons_solid:search"),t.xp6(1),t.Q6J("formControl",n.searchInputControl)("autocomplete","off"),t.xp6(3),t.Q6J("ngIf",n.categories.length),t.xp6(1),t.Q6J("ngIf",n.isLoading),t.xp6(2),t.Q6J("ngClass",t.WLB(14,Rt,n.isLoading,!n.categories.length))("pageSizeOptions",t.DdM(17,Nt))("showFirstLastButtons",!0),t.xp6(1),t.Q6J("ngIf",!n.categories.length&&!n.isLoading))},dependencies:[_.O5,_.mk,_.ax,_.uU,R.TU,R.NW,m.p0,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,T.Ps,T.Hw,f.ot,f.lW,f.RK,k.W,b.c,b.Nt,h.KE,h.qo,r.UX,r.Fj,r.JJ,r.oH,y.LD,y.gD,p.ey,p.si,p.wG,g.Is,P.vi,G.s],styles:["app-categories[_ngcontent-%COMP%]{display:flex;height:-moz-fit-content;height:fit-content;min-height:100vh;flex-direction:column}"]}),o})()}]},665:(Q,v,s)=>{s.d(v,{Qd:()=>t});var t=(()=>((t=t||{}).active="active",t.inActive="inActive",t))()}}]);