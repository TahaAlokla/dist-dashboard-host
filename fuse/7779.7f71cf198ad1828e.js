"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[7779],{7779:($t,B,s)=>{s.r(B),s.d(B,{default:()=>Vt});var v=s(1531),t=s(2223);let P=(()=>{class i{constructor(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-ticket-details"]],standalone:!0,features:[t.jDz],decls:2,vars:0,consts:[[1,"overflow-y-auto","w-full","max-h-full"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"router-outlet"),t.qZA())},dependencies:[v.lC],encapsulation:2,changeDetection:0}),i})();var p=s(4755),_=s(1728),x=s(9114),h=s(430),y=s(9609),w=s(7406),f=s(8915),F=s(1217),M=s(706),q=s(8930),C=s(1692),Q=s(2840),G=s(2966),u=s(7579),W=s(4968),L=s(6451),g=s(9300),U=s(4004),R=s(9718),d=s(2722),V=s(1884),E=s(5698),O=s(8675),K=s(8372),m=s(1591);const J=["*"],$=["content"];function X(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",2),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o._onBackdropClicked())}),t.qZA()}if(2&i){const e=t.oxw();t.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function tt(i,a){1&i&&(t.TgZ(0,"mat-drawer-content"),t.Hsn(1,2),t.qZA())}const et=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],nt=["mat-drawer","mat-drawer-content","*"],it={transformDrawer:(0,m.X$)("transform",[(0,m.SB)("open, open-instant",(0,m.oB)({transform:"none",visibility:"visible"})),(0,m.SB)("void",(0,m.oB)({"box-shadow":"none",visibility:"hidden"})),(0,m.eR)("void => open-instant",(0,m.jt)("0ms")),(0,m.eR)("void <=> open, open-instant => void",(0,m.jt)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},ot=new t.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function at(){return!1}}),j=new t.OlP("MAT_DRAWER_CONTAINER");let b=(()=>{class i extends f.PQ{constructor(e,n,o,r,l){super(o,r,l),this._changeDetectorRef=e,this._container=n}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.sBO),t.Y36((0,t.Gpc)(()=>A)),t.Y36(t.SBq),t.Y36(f.mF),t.Y36(t.R0b))},i.\u0275cmp=t.Xpm({type:i,selectors:[["mat-drawer-content"]],hostAttrs:["ngSkipHydration","",1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,n){2&e&&t.Udp("margin-left",n._container._contentMargins.left,"px")("margin-right",n._container._contentMargins.right,"px")},features:[t._Bn([{provide:f.PQ,useExisting:i}]),t.qOj],ngContentSelectors:J,decls:1,vars:0,template:function(e,n){1&e&&(t.F$t(),t.Hsn(0))},encapsulation:2,changeDetection:0}),i})(),Z=(()=>{class i{get position(){return this._position}set position(e){(e="end"===e?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=(0,C.Ig)(e)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(e){("true"===e||"false"===e||null==e)&&(e=(0,C.Ig)(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle((0,C.Ig)(e))}constructor(e,n,o,r,l,S,I,Kt){this._elementRef=e,this._focusTrapFactory=n,this._focusMonitor=o,this._platform=r,this._ngZone=l,this._interactivityChecker=S,this._doc=I,this._container=Kt,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new u.x,this._animationEnd=new u.x,this._animationState="void",this.openedChange=new t.vpe(!0),this._openedStream=this.openedChange.pipe((0,g.h)(c=>c),(0,U.U)(()=>{})),this.openedStart=this._animationStarted.pipe((0,g.h)(c=>c.fromState!==c.toState&&0===c.toState.indexOf("open")),(0,R.h)(void 0)),this._closedStream=this.openedChange.pipe((0,g.h)(c=>!c),(0,U.U)(()=>{})),this.closedStart=this._animationStarted.pipe((0,g.h)(c=>c.fromState!==c.toState&&"void"===c.toState),(0,R.h)(void 0)),this._destroyed=new u.x,this.onPositionChanged=new t.vpe,this._modeChanged=new u.x,this.openedChange.subscribe(c=>{c?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{(0,W.R)(this._elementRef.nativeElement,"keydown").pipe((0,g.h)(c=>c.keyCode===Q.hY&&!this.disableClose&&!(0,Q.Vb)(c)),(0,d.R)(this._destroyed)).subscribe(c=>this._ngZone.run(()=>{this.close(),c.stopPropagation(),c.preventDefault()}))}),this._animationEnd.pipe((0,V.x)((c,k)=>c.fromState===k.fromState&&c.toState===k.toState)).subscribe(c=>{const{fromState:k,toState:Y}=c;(0===Y.indexOf("open")&&"void"===k||"void"===Y&&0===k.indexOf("open"))&&this.openedChange.emit(this._opened)})}_forceFocus(e,n){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const o=()=>{e.removeEventListener("blur",o),e.removeEventListener("mousedown",o),e.removeAttribute("tabindex")};e.addEventListener("blur",o),e.addEventListener("mousedown",o)})),e.focus(n)}_focusByCssSelector(e,n){let o=this._elementRef.nativeElement.querySelector(e);o&&this._forceFocus(o,n)}_takeFocus(){if(!this._focusTrap)return;const e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(n=>{!n&&"function"==typeof this._elementRef.nativeElement.focus&&e.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(e){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,n){e&&n&&(this._openedVia=n);const o=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),o}_setOpen(e,n,o){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",n&&this._restoreFocus(o)),this._updateFocusTrapState(),new Promise(r=>{this.openedChange.pipe((0,E.q)(1)).subscribe(l=>r(l?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(e){const n=this._elementRef.nativeElement,o=n.parentNode;"end"===e?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),o.insertBefore(this._anchor,n)),o.appendChild(n)):this._anchor&&this._anchor.parentNode.insertBefore(n,this._anchor)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.SBq),t.Y36(M.qV),t.Y36(M.tE),t.Y36(G.t4),t.Y36(t.R0b),t.Y36(M.ic),t.Y36(p.K0,8),t.Y36(j,8))},i.\u0275cmp=t.Xpm({type:i,selectors:[["mat-drawer"]],viewQuery:function(e,n){if(1&e&&t.Gf($,5),2&e){let o;t.iGM(o=t.CRH())&&(n._content=o.first)}},hostAttrs:["tabIndex","-1","ngSkipHydration","",1,"mat-drawer"],hostVars:12,hostBindings:function(e,n){1&e&&t.WFA("@transform.start",function(r){return n._animationStarted.next(r)})("@transform.done",function(r){return n._animationEnd.next(r)}),2&e&&(t.uIk("align",null),t.d8E("@transform",n._animationState),t.ekj("mat-drawer-end","end"===n.position)("mat-drawer-over","over"===n.mode)("mat-drawer-push","push"===n.mode)("mat-drawer-side","side"===n.mode)("mat-drawer-opened",n.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:J,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,n){1&e&&(t.F$t(),t.TgZ(0,"div",0,1),t.Hsn(2),t.qZA())},dependencies:[f.PQ],encapsulation:2,data:{animation:[it.transformDrawer]},changeDetection:0}),i})(),A=(()=>{class i{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=(0,C.Ig)(e)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(e){this._backdropOverride=null==e?null:(0,C.Ig)(e)}get scrollable(){return this._userContent||this._content}constructor(e,n,o,r,l,S=!1,I){this._dir=e,this._element=n,this._ngZone=o,this._changeDetectorRef=r,this._animationMode=I,this._drawers=new t.n_E,this.backdropClick=new t.vpe,this._destroyed=new u.x,this._doCheckSubject=new u.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new u.x,e&&e.change.pipe((0,d.R)(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),l.change().pipe((0,d.R)(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=S}ngAfterContentInit(){this._allDrawers.changes.pipe((0,O.O)(this._allDrawers),(0,d.R)(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(n=>!n._container||n._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe((0,O.O)(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe((0,K.b)(10),(0,d.R)(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,n=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const o=this._left._getWidth();e+=o,n-=o}if(this._right&&this._right.opened)if("side"==this._right.mode)n+=this._right._getWidth();else if("push"==this._right.mode){const o=this._right._getWidth();n+=o,e-=o}e=e||null,n=n||null,(e!==this._contentMargins.left||n!==this._contentMargins.right)&&(this._contentMargins={left:e,right:n},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe((0,g.h)(n=>n.fromState!==n.toState),(0,d.R)(this._drawers.changes)).subscribe(n=>{"open-instant"!==n.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe((0,d.R)(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){e&&e.onPositionChanged.pipe((0,d.R)(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe((0,E.q)(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe((0,d.R)((0,L.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const n=this._element.nativeElement.classList,o="mat-drawer-container-has-open";e?n.add(o):n.remove(o)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(q.Is,8),t.Y36(t.SBq),t.Y36(t.R0b),t.Y36(t.sBO),t.Y36(f.rL),t.Y36(ot),t.Y36(t.QbO,8))},i.\u0275cmp=t.Xpm({type:i,selectors:[["mat-drawer-container"]],contentQueries:function(e,n,o){if(1&e&&(t.Suo(o,b,5),t.Suo(o,Z,5)),2&e){let r;t.iGM(r=t.CRH())&&(n._content=r.first),t.iGM(r=t.CRH())&&(n._allDrawers=r)}},viewQuery:function(e,n){if(1&e&&t.Gf(b,5),2&e){let o;t.iGM(o=t.CRH())&&(n._userContent=o.first)}},hostAttrs:["ngSkipHydration","",1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,n){2&e&&t.ekj("mat-drawer-container-explicit-backdrop",n._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[t._Bn([{provide:j,useExisting:i}])],ngContentSelectors:nt,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,n){1&e&&(t.F$t(et),t.YNc(0,X,1,2,"div",0),t.Hsn(1),t.Hsn(2,1),t.YNc(3,tt,2,0,"mat-drawer-content",1)),2&e&&(t.Q6J("ngIf",n.hasBackdrop),t.xp6(3),t.Q6J("ngIf",!n._content))},dependencies:[p.O5,b],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),i})(),N=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[p.ez,F.BQ,f.ZD,f.ZD,F.BQ]}),i})();var z=s(9401),D=s(9096);function rt(i,a){1&i&&(t.ynx(0),t.TgZ(1,"div",24)(2,"span"),t._uU(3,"Closed"),t.qZA(),t._UZ(4,"mat-icon",25),t.qZA(),t.BQk()),2&i&&(t.xp6(4),t.Q6J("svgIcon","heroicons_outline:lock-closed"))}function st(i,a){1&i&&(t.ynx(0),t.TgZ(1,"div",26)(2,"span"),t._uU(3,"Open"),t.qZA(),t._UZ(4,"mat-icon",25),t.qZA(),t.BQk()),2&i&&(t.xp6(4),t.Q6J("svgIcon","heroicons_outline:lock-open"))}const ct=function(i,a){return{"hover:bg-gray-100 dark:hover:bg-hover":i,"bg-primary-50 dark:bg-hover":a}},dt=function(i){return[i]};function lt(i,a){if(1&i&&(t.ynx(0),t.TgZ(1,"a",17)(2,"div",18)(3,"div",19),t._uU(4),t.qZA(),t.TgZ(5,"div",20),t._uU(6),t.qZA(),t.TgZ(7,"div",21),t._uU(8),t.qZA()(),t.TgZ(9,"div",22)(10,"div",23),t._uU(11),t.ALo(12,"date"),t.YNc(13,rt,5,1,"ng-container",7),t.YNc(14,st,5,1,"ng-container",7),t.qZA()()(),t.BQk()),2&i){const e=a.$implicit,n=t.oxw(3);t.xp6(1),t.Q6J("ngClass",t.WLB(11,ct,!n.selectedChat||n.selectedChat._id!==e._id,n.selectedChat&&n.selectedChat._id===e._id))("routerLink",t.VKq(14,dt,e._id)),t.xp6(3),t.hij(" ",e.name," "),t.xp6(2),t.hij(" ",null==e?null:e.email," "),t.xp6(2),t.hij(" ",e.subject," "),t.xp6(3),t.hij(" ",t.xi3(12,8,e.updatedAt,"short")," "),t.xp6(2),t.Q6J("ngIf","closed"===e.status),t.xp6(1),t.Q6J("ngIf","open"===e.status)}}function pt(i,a){if(1&i&&(t.ynx(0),t.YNc(1,lt,15,16,"ng-container",16),t.BQk()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.filteredChats)("ngForTrackBy",e.trackByFn)}}function ut(i,a){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",8)(2,"div",9)(3,"div",10)(4,"mat-form-field",11),t._UZ(5,"mat-icon",12),t.TgZ(6,"input",13,14),t.NdJ("input",function(){t.CHM(e);const o=t.MAs(7),r=t.oxw();return t.KtG(r.filterChats(o.value))}),t.qZA()()()(),t.TgZ(8,"div",15),t.YNc(9,pt,2,2,"ng-container",5),t.qZA()(),t.BQk()}if(2&i){const e=t.oxw(),n=t.MAs(7);t.xp6(4),t.Q6J("subscriptSizing","dynamic"),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:magnifying-glass"),t.xp6(1),t.Q6J("autocomplete","true")("placeholder","Search by name or email"),t.xp6(3),t.Q6J("ngIf",e.filteredChats.length>0)("ngIfElse",n)}}function mt(i,a){1&i&&(t.TgZ(0,"div",27),t._UZ(1,"mat-icon",28),t.TgZ(2,"div",29),t._uU(3," No Item Result ! "),t.qZA()()),2&i&&(t.xp6(1),t.Q6J("svgIcon","heroicons_solid:information-circle"))}const ht=function(i,a){return{"z-20 absolute inset-0 lg:static lg:inset-auto flex":i,"hidden lg:flex":a}};function _t(i,a){if(1&i&&(t.ynx(0),t.TgZ(1,"div",30),t._UZ(2,"router-outlet"),t.qZA(),t.BQk()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngClass",t.WLB(1,ht,e.selectedChat&&e.selectedChat._id,!e.selectedChat||!e.selectedChat._id))}}let ft=(()=>{class i{constructor(e,n){this._ContactUsService=e,this._changeDetectorRef=n,this.searchControl=new z.NI,this.tiackes=[],this.drawerOpened=!1,this._unsubscribeAll=new u.x}ngOnInit(){this._ContactUsService.all_tickets$.pipe((0,d.R)(this._unsubscribeAll)).subscribe(e=>{this.tiackes=this.filteredChats=e,this._changeDetectorRef.markForCheck()}),this._ContactUsService.ticketById$.pipe((0,d.R)(this._unsubscribeAll)).subscribe(e=>{this.selectedChat=e,this._changeDetectorRef.markForCheck()})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}filterChats(e){console.log("filterCh",e),this.filteredChats=e?this.tiackes.filter(n=>n.name.toLowerCase().includes(e.toLowerCase())):this.tiackes}trackByFn(e,n){return n.id||e}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(D.D),t.Y36(t.sBO))},i.\u0275cmp=t.Xpm({type:i,selectors:[["chat-chats"]],standalone:!0,features:[t.jDz],decls:9,vars:6,consts:[[1,"flex","flex-auto","w-full","bg-card","dark:bg-transparent","max-h-full"],[1,"flex-auto","h-item",3,"hasBackdrop"],[1,"w-full","sm:w-100","lg:border-r","lg:shadow-none","dark:bg-gray-900",3,"autoFocus","opened","openedChange"],["drawer",""],[1,"flex","overflow-hidden"],[4,"ngIf","ngIfElse"],["noChats",""],[4,"ngIf"],[1,"relative","flex","flex-auto","flex-col","w-full","min-w-0","lg:min-w-100","lg:max-w-100","bg-card","dark:bg-transparent"],[1,"flex","flex-col","flex-0","pb-4","px-8","border-b","bg-gray-50","dark:bg-transparent"],[1,"mt-4"],[1,"fuse-mat-rounded","fuse-mat-dense","w-full",3,"subscriptSizing"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"autocomplete","placeholder","input"],["searchField",""],[1,"flex-auto","overflow-y-auto"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"z-20","flex","items-center","py-5","px-8","border-b",3,"ngClass","routerLink"],[1,"min-w-0","ml-4"],[1,"font-medium","leading-5","truncate","copy-item","isolate"],[1,"font-normal","text-secondary","text-sm","leading-5","truncate"],[1,"leading-5","truncate","text-primary"],[1,"flex","flex-col","items-end","self-start","ml-auto","pl-2","min-w-max"],[1,"text-sm","leading-5","text-secondary"],[1,"mt-2","w-20","text-white","text-center","px-2","py-1","rounded","bg-warn-700","flex","flex-row","gap-x-2","text-sm","justify-center"],[1,"icon-size-4","text-white",3,"svgIcon"],[1,"mt-2","w-20","text-white","text-center","px-2","py-1","rounded","bg-green-600","flex","flex-row","gap-x-2","text-sm","justify-center"],[1,"flex","flex-auto","flex-col","items-center","justify-center","h-full"],[1,"icon-size-18","text-primary",3,"svgIcon"],[1,"mt-4","text-2xl","font-semibold","tracking-tight","text-primary"],[1,"flex-auto","border-l",3,"ngClass"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0)(1,"mat-drawer-container",1)(2,"mat-drawer",2,3),t.NdJ("openedChange",function(r){return n.drawerOpened=r}),t.qZA(),t.TgZ(4,"mat-drawer-content",4),t.YNc(5,ut,10,6,"ng-container",5),t.YNc(6,mt,4,1,"ng-template",null,6,t.W1O),t.YNc(8,_t,3,4,"ng-container",7),t.qZA()()()),2&e){const o=t.MAs(7);t.xp6(1),t.Q6J("hasBackdrop",!1),t.xp6(1),t.Q6J("autoFocus",!1)("opened",n.drawerOpened),t.xp6(3),t.Q6J("ngIf",n.tiackes&&n.tiackes.length>0)("ngIfElse",o),t.xp6(3),t.Q6J("ngIf",n.tiackes&&n.tiackes.length>0)}},dependencies:[N,Z,A,b,p.O5,_.ot,h.Ps,h.Hw,w.Tx,x.lN,x.KE,x.qo,y.c,y.Nt,p.ax,p.mk,v.rH,v.lC,p.uU,z.UX],styles:[".h-item{min-height:88.8vh!important;max-height:88.8vh!important}.copy-item{pointer-events:auto!important}\n"],encapsulation:2,changeDetection:0}),i})();var H=s(8657),T=s(3900),gt=s(8505);function vt(i,a){1&i&&(t.ynx(0),t.TgZ(1,"div",15)(2,"span"),t._uU(3,"Closed"),t.qZA(),t._UZ(4,"mat-icon",16),t.qZA(),t.BQk()),2&i&&(t.xp6(4),t.Q6J("svgIcon","heroicons_outline:lock-closed"))}function xt(i,a){1&i&&(t.ynx(0),t.TgZ(1,"div",17)(2,"span"),t._uU(3,"Open"),t.qZA(),t._UZ(4,"mat-icon",16),t.qZA(),t.BQk()),2&i&&(t.xp6(4),t.Q6J("svgIcon","heroicons_outline:lock-open"))}function wt(i,a){if(1&i&&(t.ynx(0),t.TgZ(1,"div")(2,"div",12),t._uU(3," Replys Count "),t.qZA(),t.TgZ(4,"div",13),t._uU(5),t.qZA()(),t.BQk()),2&i){const e=t.oxw();t.xp6(5),t.hij(" ",e.ticket_info.replys.length," ")}}function Ct(i,a){if(1&i&&(t.ynx(0),t.TgZ(1,"div")(2,"div",12),t._uU(3,"Email"),t.qZA(),t.TgZ(4,"div",13),t._uU(5),t.qZA()(),t.BQk()),2&i){const e=t.oxw();t.xp6(5),t.hij(" ",e.ticket_info.email," ")}}function bt(i,a){if(1&i&&(t.ynx(0),t.TgZ(1,"div")(2,"div",12),t._uU(3," Phone number "),t.qZA(),t.TgZ(4,"div",13),t._uU(5),t.qZA()(),t.BQk()),2&i){const e=t.oxw();t.xp6(5),t.hij(" ",null==e.ticket_info?null:e.ticket_info.phone," ")}}function kt(i,a){if(1&i&&(t.ynx(0),t.TgZ(1,"div")(2,"div",12),t._uU(3,"subject"),t.qZA(),t.TgZ(4,"div",13),t._uU(5),t.qZA()(),t.BQk()),2&i){const e=t.oxw();t.xp6(5),t.Oqu(null==e.ticket_info?null:e.ticket_info.subject)}}let yt=(()=>{class i{constructor(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["chat-contact-info"]],inputs:{ticket_info:"ticket_info",drawer:"drawer"},standalone:!0,features:[t.jDz],decls:42,vars:16,consts:[[1,"flex","flex-col","flex-auto","h-full","bg-card","dark:bg-default"],[1,"flex","flex-0","items-center","h-18","px-4","border-b","bg-gray-50","dark:bg-transparent"],["mat-icon-button","",3,"click"],[3,"svgIcon"],[1,"ml-2","text-lg","font-medium"],[1,"overflow-y-auto"],[1,"flex","flex-col","items-center","mt-2"],[1,"font-medium","text-secondary","text-lg"],[1,"text-lg","font-medium"],[1,"py-10","px-7"],[1,"mt-4","space-y-4"],[1,"text-lg","font-medium","mb-3"],[1,"font-medium","text-secondary"],[1,""],[4,"ngIf"],[1,"mt-2","w-20","text-white","text-center","px-2","py-1","rounded","bg-warn-700","flex","flex-row","gap-x-2","text-sm","justify-center"],[1,"icon-size-4","text-white",3,"svgIcon"],[1,"mt-2","w-20","text-white","text-center","px-2","py-1","rounded","bg-green-600","flex","flex-row","gap-x-2","text-sm","justify-center"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"button",2),t.NdJ("click",function(){return n.drawer.close()}),t._UZ(3,"mat-icon",3),t.qZA(),t.TgZ(4,"div",4),t._uU(5,"Ticket Info"),t.qZA()(),t.TgZ(6,"div",5)(7,"div",6)(8,"div")(9,"div",7),t._uU(10," Client Name "),t.qZA(),t.TgZ(11,"div",8),t._uU(12),t.qZA()()(),t.TgZ(13,"div",9)(14,"div",10)(15,"div",11),t._uU(16,"Details"),t.qZA(),t.ynx(17),t.TgZ(18,"div")(19,"div",12),t._uU(20," Status Ticket "),t.qZA(),t.TgZ(21,"div",13),t.YNc(22,vt,5,1,"ng-container",14),t.YNc(23,xt,5,1,"ng-container",14),t.qZA()(),t.BQk(),t.YNc(24,wt,6,1,"ng-container",14),t.YNc(25,Ct,6,1,"ng-container",14),t.YNc(26,bt,6,1,"ng-container",14),t.YNc(27,kt,6,1,"ng-container",14),t.ynx(28),t.TgZ(29,"div")(30,"div",12),t._uU(31,"createdAt"),t.qZA(),t.TgZ(32,"div",13),t._uU(33),t.ALo(34,"date"),t.qZA()(),t.BQk(),t.ynx(35),t.TgZ(36,"div")(37,"div",12),t._uU(38,"updatedAt"),t.qZA(),t.TgZ(39,"div",13),t._uU(40),t.ALo(41,"date"),t.qZA()(),t.BQk(),t.qZA()()()()),2&e&&(t.xp6(3),t.Q6J("svgIcon","heroicons_outline:x-mark"),t.xp6(9),t.hij(" ",n.ticket_info.name," "),t.xp6(10),t.Q6J("ngIf","closed"===n.ticket_info.status),t.xp6(1),t.Q6J("ngIf","open"===n.ticket_info.status),t.xp6(1),t.Q6J("ngIf",n.ticket_info.replys.length),t.xp6(1),t.Q6J("ngIf",n.ticket_info.email),t.xp6(1),t.Q6J("ngIf",null==n.ticket_info?null:n.ticket_info.phone),t.xp6(1),t.Q6J("ngIf",null==n.ticket_info?null:n.ticket_info.subject),t.xp6(6),t.hij(" ",t.xi3(34,10,null==n.ticket_info?null:n.ticket_info.createdAt,"full")," "),t.xp6(7),t.hij(" ",t.xi3(41,13,null==n.ticket_info?null:n.ticket_info.updatedAt,"full")," "))},dependencies:[_.ot,_.RK,h.Ps,h.Hw,p.O5,p.uU],encapsulation:2,changeDetection:0}),i})();var Tt=s(5226),Mt=s.n(Tt),Zt=s(3601);const At=["messageInput"];function Dt(i,a){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"button",20),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.Close_Ticket(o.ticket._id))}),t._UZ(2,"mat-icon",11),t._uU(3," Close Ticket "),t.qZA(),t.BQk()}2&i&&(t.xp6(2),t.Q6J("svgIcon","heroicons_outline:lock-closed"))}function St(i,a){if(1&i&&(t.ynx(0),t.TgZ(1,"div",29),t._UZ(2,"div",30),t.TgZ(3,"div",31),t._uU(4),t.ALo(5,"date"),t.qZA(),t._UZ(6,"div",30),t.qZA(),t.BQk()),2&i){const e=t.oxw().$implicit;t.xp6(4),t.hij(" ",t.xi3(5,1,e.createdAt,"longDate")," ")}}function It(i,a){1&i&&t.GkF(0)}const Bt=function(i,a){return{"text-blue-500 -right-1 -mr-px mb-px":i,"text-gray-500 -left-1 -ml-px mb-px -scale-x-1":a}};function Ft(i,a){if(1&i&&(t.ynx(0),t.TgZ(1,"div",32),t.YNc(2,It,1,0,"ng-container",33),t.qZA(),t.BQk()),2&i){const e=t.oxw().$implicit;t.oxw(2);const n=t.MAs(5);t.xp6(1),t.Q6J("ngClass",t.WLB(2,Bt,"admin"==e.type,"admin"!==e.type)),t.xp6(1),t.Q6J("ngTemplateOutlet",n)}}const Qt=function(i,a){return{"mr-3":i,"ml-3":a}};function Ut(i,a){if(1&i&&(t.ynx(0),t.TgZ(1,"div",34),t._uU(2),t.ALo(3,"date"),t.qZA(),t.BQk()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngClass",t.WLB(5,Qt,"admin"==e.type,"admin"!==e.type)),t.xp6(1),t.hij(" ",t.xi3(3,2,e.createdAt,"HH:mm")," ")}}const Rt=function(i,a,e,n){return{"items-end":i,"items-start":a,"mt-0.5":e,"mt-3":n}},Et=function(i,a){return{"bg-blue-500 text-blue-50":i," bg-gray-200 text-gray-900":a}};function Ot(i,a){if(1&i&&(t.ynx(0),t.YNc(1,St,7,4,"ng-container",21),t.ALo(2,"date"),t.ALo(3,"date"),t.TgZ(4,"div",26)(5,"div",27),t.YNc(6,Ft,3,5,"ng-container",21),t._UZ(7,"div",28),t.qZA(),t.YNc(8,Ut,4,8,"ng-container",21),t.qZA(),t.BQk()),2&i){const e=a.$implicit,n=a.index,o=a.first,r=a.last,l=t.oxw(2);t.xp6(1),t.Q6J("ngIf",o||t.xi3(2,6,l.ticket.replys[n-1].createdAt,"d")!==t.xi3(3,9,e.createdAt,"d")),t.xp6(3),t.Q6J("ngClass",t.l5B(12,Rt,"admin"==e.type,"admin"!==e.type,n>0&&l.ticket.replys[n-1].isMine===e.type=="admin",n>0&&"admin"==l.ticket.replys[n-1].type!==e.type=="admin")),t.xp6(1),t.Q6J("ngClass",t.WLB(17,Et,"admin"==e.type,"admin"!==e.type)),t.xp6(1),t.Q6J("ngIf",r||"admin"!==l.ticket.replys[n+1].type),t.xp6(1),t.Q6J("innerHTML",null==e?null:e.message,t.oJD),t.xp6(1),t.Q6J("ngIf",o||r||"admin"==l.ticket.replys[n+1].message.type!==e.type=="admin"||l.ticket.replys[n+1].createdAt!==e.createdAt)}}function Jt(i,a){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",35)(2,"div",36)(3,"button",37),t._UZ(4,"mat-icon",11),t.qZA(),t.TgZ(5,"button",38),t.NdJ("click",function(){t.CHM(e);const o=t.MAs(8);return t.KtG(o.click())}),t._UZ(6,"mat-icon",11),t.qZA(),t.TgZ(7,"input",39,40),t.NdJ("change",function(o){t.CHM(e);const r=t.MAs(8);return t.oxw(2).onFilesSelected(o.target.files),t.KtG(r.value="")}),t.qZA()(),t.TgZ(9,"mat-form-field",41),t._UZ(10,"textarea",42,43),t.qZA(),t.TgZ(12,"div",44)(13,"button",45),t.NdJ("click",function(){t.CHM(e);const o=t.MAs(11),r=t.oxw(2);return t.KtG(r.create_admin_reply(o.value))}),t.TgZ(14,"span",46),t._uU(15,"send"),t.qZA(),t._UZ(16,"mat-icon",47),t.qZA(),t.TgZ(17,"button",45),t.NdJ("click",function(){t.CHM(e);const o=t.MAs(11),r=t.oxw(2);return t.KtG(r.create_admin_reply(o.value,"closed"))}),t.TgZ(18,"span",46),t._uU(19,"send & closed"),t.qZA(),t._UZ(20,"mat-icon",48),t.qZA()()(),t.BQk()}if(2&i){const e=t.MAs(11);t.xp6(4),t.Q6J("svgIcon","heroicons_outline:face-smile"),t.xp6(2),t.Q6J("svgIcon","heroicons_outline:paper-clip"),t.xp6(7),t.Q6J("disabled",!e.value),t.xp6(3),t.Q6J("svgIcon","heroicons_outline:paper-airplane"),t.xp6(1),t.Q6J("disabled",!e.value),t.xp6(3),t.Q6J("svgIcon","heroicons_outline:paper-airplane")}}function jt(i,a){1&i&&(t.TgZ(0,"div",49),t._uU(1," Ticked closed , You cant reply ! "),t.qZA())}const Nt=function(){return["/contact-us/tickets/ticket"]},zt=function(i,a,e){return{"bg-green-500":i,"bg-warn-700":a,"bg-blue-500":e}};function Ht(i,a){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"mat-drawer-container",4)(2,"mat-drawer",5,6),t.NdJ("openedChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.drawerOpened=o)}),t._UZ(4,"chat-contact-info",7),t.qZA(),t.TgZ(5,"mat-drawer-content",8)(6,"div",9)(7,"a",10),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.resetChat())}),t._UZ(8,"mat-icon",11),t.qZA(),t.TgZ(9,"div",12),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.openContactInfo())}),t.TgZ(10,"div",13),t.ynx(11),t.TgZ(12,"div",14),t._uU(13),t.qZA(),t.BQk(),t.qZA(),t.TgZ(14,"div",15),t._uU(15),t.TgZ(16,"span",16),t._uU(17),t.qZA()()(),t.TgZ(18,"div",17)(19,"span",16),t._uU(20),t.qZA(),t._uU(21),t.qZA(),t.TgZ(22,"button",18),t._UZ(23,"mat-icon",11),t.TgZ(24,"mat-menu",null,19)(26,"button",20),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.openContactInfo())}),t._UZ(27,"mat-icon",11),t._uU(28," Ticket Info "),t.qZA(),t.YNc(29,Dt,4,1,"ng-container",21),t.TgZ(30,"button",20),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.Delete_Ticket(o.ticket._id))}),t._UZ(31,"mat-icon",11),t._uU(32," Delete Ticket from System "),t.qZA()()()(),t.TgZ(33,"div",22)(34,"div",23),t.YNc(35,Ot,9,20,"ng-container",24),t.qZA()(),t.YNc(36,Jt,21,6,"ng-container",1),t.YNc(37,jt,2,0,"ng-template",null,25,t.W1O),t.qZA()(),t.BQk()}if(2&i){const e=t.MAs(3),n=t.MAs(25),o=t.MAs(38),r=t.oxw();t.xp6(1),t.Q6J("hasBackdrop",!1),t.xp6(1),t.Q6J("autoFocus",!1)("mode",r.drawerMode)("position","end")("opened",r.drawerOpened),t.xp6(2),t.Q6J("drawer",e)("ticket_info",r.ticket),t.xp6(3),t.Q6J("routerLink",t.DdM(24,Nt)),t.xp6(1),t.Q6J("svgIcon","heroicons_outline:arrow-long-left"),t.xp6(4),t.Q6J("ngClass",t.kEZ(25,zt,"open"===(null==r.ticket?null:r.ticket.status),"closed"===(null==r.ticket?null:r.ticket.status),"pending"===r.status)),t.xp6(1),t.hij(" ",null==r.ticket?null:r.ticket.name.charAt(0)," "),t.xp6(2),t.hij(" ",null==r.ticket?null:r.ticket.name," "),t.xp6(2),t.hij(" ",null==r.ticket?null:r.ticket.email,""),t.xp6(3),t.hij(" ","Subject :",""),t.xp6(1),t.hij(" ",null==r.ticket?null:r.ticket.subject," "),t.xp6(1),t.Q6J("matMenuTriggerFor",n),t.xp6(1),t.Q6J("svgIcon","heroicons_outline:ellipsis-vertical"),t.xp6(4),t.Q6J("svgIcon","heroicons_outline:information-circle"),t.xp6(2),t.Q6J("ngIf","closed"!==r.ticket.status),t.xp6(2),t.Q6J("svgIcon","heroicons_outline:trash"),t.xp6(4),t.Q6J("ngForOf",r.ticket.replys)("ngForTrackBy",r.trackByFn),t.xp6(1),t.Q6J("ngIf","closed"!==(null==r.ticket?null:r.ticket.status))("ngIfElse",o)}}function Yt(i,a){1&i&&(t.TgZ(0,"div",50),t._UZ(1,"mat-icon",51),t.TgZ(2,"div",52),t._uU(3," Select a Ticket "),t.qZA()()),2&i&&(t.xp6(1),t.Q6J("svgIcon","heroicons_outline:chat-bubble-oval-left-ellipsis"))}function Pt(i,a){1&i&&(t.O4$(),t.TgZ(0,"svg",53)(1,"g",54),t._UZ(2,"path",55),t.qZA()())}let qt=(()=>{class i{constructor(e,n,o,r){this._changeDetectorRef=e,this._fuseMediaWatcherService=n,this._ngZone=o,this._ContactUsService=r,this.toast=Mt().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:4e3}),this.ticket=null,this.drawerMode="side",this.drawerOpened=!1,this._unsubscribeAll=new u.x}_resizeMessageInput(){this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.messageInput.nativeElement.style.height="auto",this._changeDetectorRef.detectChanges(),this.messageInput.nativeElement.style.height=`${this.messageInput.nativeElement.scrollHeight}px`,this._changeDetectorRef.detectChanges()})})}ngOnInit(){this._ContactUsService.ticketById$.pipe((0,d.R)(this._unsubscribeAll)).subscribe(e=>{this.ticket=e,this._changeDetectorRef.markForCheck()}),this._fuseMediaWatcherService.onMediaChange$.pipe((0,d.R)(this._unsubscribeAll)).subscribe(({matchingAliases:e})=>{this.drawerMode=e.includes("lg")?"side":"over",this._changeDetectorRef.markForCheck()})}onFilesSelected(e){if(e&&e.length>0)for(let n=0;n<e.length;n++){const o=e[n];if("application/pdf"===o.type){if(!(o.size<=5242.88))return this.toast.fire({icon:"warning",title:"PDF file size exceeds 5MB. Please select a smaller file."}),void(e=null);console.log("PDF file selected:",o)}else if(o.type.startsWith("image/")){if(!(o.size<=1048576))return this.toast.fire({icon:"warning",title:"Image file size exceeds 1MB. Please select a smaller file."}),void(e=null);console.log("Image file selected:",o)}else this.toast.fire({icon:"warning",title:"Invalid file type. Please select a PDF or image file."})}}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}openContactInfo(){this.drawerOpened=!0,this._changeDetectorRef.markForCheck()}resetChat(){this.drawerOpened=!1,this._changeDetectorRef.markForCheck()}trackByFn(e,n){return n.id||e}Close_Ticket(e){this._ContactUsService.update_ticket_closed_ticket(e).pipe((0,d.R)(this._unsubscribeAll),(0,T.w)(()=>this._ContactUsService.getTicketById(this.ticket._id)),(0,T.w)(()=>this._ContactUsService.getAllTickets())).subscribe({next:n=>{this._changeDetectorRef.markForCheck()}})}Delete_Ticket(e){this._ContactUsService.delete_ticket(e).pipe((0,d.R)(this._unsubscribeAll),(0,T.w)(()=>this._ContactUsService.getAllTickets()),(0,gt.b)(()=>{})).subscribe()}create_admin_reply(e,n){let o={ticket_id:this.ticket._id,message:e,type:"admin"};this._ContactUsService.create_admin_reply(o).pipe((0,d.R)(this._unsubscribeAll),(0,T.w)(()=>this._ContactUsService.getTicketById(this.ticket._id))).subscribe({next:r=>{this.messageInput.nativeElement.value=null,this._changeDetectorRef.markForCheck()}}),console.log("create_admin_reply",o)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.sBO),t.Y36(Zt.T),t.Y36(t.R0b),t.Y36(D.D))},i.\u0275cmp=t.Xpm({type:i,selectors:[["chat-conversation"]],viewQuery:function(e,n){if(1&e&&t.Gf(At,5),2&e){let o;t.iGM(o=t.CRH())&&(n.messageInput=o.first)}},hostBindings:function(e,n){1&e&&t.NdJ("input",function(){return n._resizeMessageInput()})("ngModelChange",function(){return n._resizeMessageInput()})},standalone:!0,features:[t.jDz],decls:6,vars:2,consts:[[1,"flex","flex-col","flex-auto","overflow-y-auto","lg:overflow-hidden","bg-card","dark:bg-default"],[4,"ngIf","ngIfElse"],["selectChatOrStartNew",""],["speechBubbleExtension",""],[1,"flex-auto","h-full",3,"hasBackdrop"],[1,"w-full","sm:w-100","lg:border-l","lg:shadow-none","dark:bg-gray-900",3,"autoFocus","mode","position","opened","openedChange"],["drawer",""],[3,"drawer","ticket_info"],[1,"flex","flex-col","overflow-hidden"],[1,"flex","flex-0","items-center","h-18","px-4","md:px-6","border-b","bg-gray-50","dark:bg-transparent"],["mat-icon-button","",1,"lg:hidden","md:-ml-2",3,"routerLink","click"],[3,"svgIcon"],[1,"flex","items-center","ml-2","lg:ml-0","mr-2","cursor-pointer",3,"click"],[1,"relative","flex","flex-0","items-start","justify-start","w-10","h-10"],[1,"flex","items-center","justify-center","w-full","h-full","rounded-full","text-lg","uppercase","text-gray-200",3,"ngClass"],[1,"ml-4","text-lg","font-medium","truncate"],[1,"text-sm","text-secondary","block"],[1,"ml-4","text-lg","font-medium","leading-5","truncate","text-primary"],["mat-icon-button","",1,"ml-auto",3,"matMenuTriggerFor"],["conversationHeaderMenu",""],["mat-menu-item","",3,"click"],[4,"ngIf"],[1,"flex","overflow-y-auto","flex-col-reverse","flex-grow"],[1,"flex","flex-col","flex-auto","shrink","p-6","bg-card","dark:bg-transparent"],[4,"ngFor","ngForOf","ngForTrackBy"],["ticketClosedlabel",""],[1,"flex","flex-col",3,"ngClass"],[1,"relative","max-w-3/4","px-3","py-2","rounded-lg",3,"ngClass"],[1,"min-w-4","leading-5",3,"innerHTML"],[1,"flex","items-center","justify-center","my-3","-mx-6"],[1,"flex-auto","border-b"],[1,"flex-0","mx-4","text-sm","font-medium","leading-5","text-secondary"],[1,"absolute","bottom-0","w-3",3,"ngClass"],[4,"ngTemplateOutlet"],[1,"my-0.5","text-sm","font-medium","text-secondary",3,"ngClass"],[1,"flex","items-end","border-t","bg-gray-50","dark:bg-transparent","pt-2","px-3"],[1,"flex","items-center","h-11","my-px"],["mat-icon-button",""],["mat-icon-button","",1,"ml-0.5",3,"click"],["type","file","accept","image/*, .pdf","multiple","",2,"display","none",3,"change"],["fileUpload",""],["subscriptSizing","dynamic",1,"fuse-mat-dense","fuse-mat-rounded","fuse-mat-bold","w-full","ml-4"],["matInput","","cdkTextareaAutosize",""],["messageInput",""],[1,"flex","flex-col","items-center","gap-y-2","ml-4","min-w-max"],["mat-stroked-button","",1,"text-base","w-full",3,"disabled","click"],[1,"pr-2"],["iconPositionEnd","",1,"icon-size-3","text-primary",3,"svgIcon"],["iconPositionEnd","",1,"icon-size-4","text-warn-500",3,"svgIcon"],[1,"text-center","bg-gray-50","dark:bg-transparent","pt-2","font-semibold","text-lg"],[1,"flex","flex-col","flex-auto","items-center","justify-center","bg-gray-100","dark:bg-transparent"],[1,"icon-size-24",3,"svgIcon"],[1,"mt-4","text-2xl","font-semibold","tracking-tight","text-secondary"],["width","100%","height","100%","viewBox","0 0 66 66","xmlns","http://www.w3.org/2000/svg"],["id","Page-1","stroke","none","stroke-width","1","fill","none","fill-rule","evenodd"],["d","M1.01522827,0.516204834 C-8.83532715,54.3062744 61.7609863,70.5215302 64.8009949,64.3061218 C68.8074951,54.8859711 30.1663208,52.9997559 37.5036011,0.516204834 L1.01522827,0.516204834 Z","fill","currentColor","fill-rule","nonzero"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0),t.YNc(1,Ht,39,29,"ng-container",1),t.YNc(2,Yt,4,1,"ng-template",null,2,t.W1O),t.YNc(4,Pt,3,0,"ng-template",null,3,t.W1O),t.qZA()),2&e){const o=t.MAs(3);t.xp6(1),t.Q6J("ngIf",n.ticket)("ngIfElse",o)}},dependencies:[p.O5,N,Z,A,b,yt,_.ot,_.lW,_.o6,_.RK,v.rH,h.Ps,h.Hw,w.Tx,w.VK,w.OP,w.p6,p.ax,p.mk,p.tP,x.lN,x.KE,y.c,y.Nt,H.IC,H.Ky,p.uU],encapsulation:2,changeDetection:0}),i})(),Gt=(()=>{class i{constructor(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["chat-empty-conversation"]],standalone:!0,features:[t.jDz],decls:5,vars:1,consts:[[1,"flex","flex-col","flex-auto","overflow-y-auto","lg:overflow-hidden","bg-card","dark:bg-default","h-full"],[1,"flex","flex-col","flex-auto","items-center","justify-center","bg-gray-100","dark:bg-transparent"],[1,"icon-size-24","text-primary",3,"svgIcon"],[1,"mt-4","text-4xl","font-semibold","tracking-tight","text-primary"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"mat-icon",2),t.TgZ(3,"div",3),t._uU(4," Select a Ticket For Reply "),t.qZA()()()),2&e&&(t.xp6(2),t.Q6J("svgIcon","heroicons_outline:ticket"))},dependencies:[h.Ps,h.Hw],encapsulation:2,changeDetection:0}),i})();var Wt=s(262),Lt=s(2843);const Vt=[{path:"",component:P,children:[{path:"",component:ft,children:[{path:"",pathMatch:"full",component:Gt},{path:":id",component:qt,resolve:{conversation:(i,a)=>{const e=(0,t.f3M)(D.D),n=(0,t.f3M)(v.F0);return e.getTicketById(i.paramMap.get("id")).pipe((0,Wt.K)(o=>{console.error(o);const r=a.url.split("/").slice(0,-1).join("/");return n.navigateByUrl(r),(0,Lt._)(o)}))}}}]}]}]}}]);